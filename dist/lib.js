"use strict";function __awaiter(n,e,t,r){return new(t||(t=Promise))(function(o,i){function a(n){try{c(r.next(n))}catch(n){i(n)}}function s(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){n.done?o(n.value):new t(function(e){e(n.value)}).then(a,s)}c((r=r.apply(n,e||[])).next())})}function __generator(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(n,a)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.defineProperty(exports,"__esModule",{value:!0});var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function createCommonjsModule(n,e){return n(e={exports:{}},e.exports),e.exports}var underscore=createCommonjsModule(function(n,e){(function(){var t=this,r=t._,o=Array.prototype,i=Object.prototype,a=Function.prototype,s=o.push,c=o.slice,u=i.toString,l=i.hasOwnProperty,f=Array.isArray,d=Object.keys,E=a.bind,_=Object.create,p=function(){},h=function(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)};n.exports&&(e=n.exports=h),e._=h,h.VERSION="1.8.3";var S=function(n,e,t){if(void 0===e)return n;switch(null==t?3:t){case 1:return function(t){return n.call(e,t)};case 2:return function(t,r){return n.call(e,t,r)};case 3:return function(t,r,o){return n.call(e,t,r,o)};case 4:return function(t,r,o,i){return n.call(e,t,r,o,i)}}return function(){return n.apply(e,arguments)}},T=function(n,e,t){return null==n?h.identity:h.isFunction(n)?S(n,e,t):h.isObject(n)?h.matcher(n):h.property(n)};h.iteratee=function(n,e){return T(n,e,1/0)};var g=function(n,e){return function(t){var r=arguments.length;if(r<2||null==t)return t;for(var o=1;o<r;o++)for(var i=arguments[o],a=n(i),s=a.length,c=0;c<s;c++){var u=a[c];e&&void 0!==t[u]||(t[u]=i[u])}return t}},v=function(n){if(!h.isObject(n))return{};if(_)return _(n);p.prototype=n;var e=new p;return p.prototype=null,e},I=function(n){return function(e){return null==e?void 0:e[n]}},O=Math.pow(2,53)-1,N=I("length"),m=function(n){var e=N(n);return"number"==typeof e&&e>=0&&e<=O};function A(n){return function(e,t,r,o){t=S(t,o,4);var i=!m(e)&&h.keys(e),a=(i||e).length,s=n>0?0:a-1;return arguments.length<3&&(r=e[i?i[s]:s],s+=n),function(e,t,r,o,i,a){for(;i>=0&&i<a;i+=n){var s=o?o[i]:i;r=t(r,e[s],s,e)}return r}(e,t,r,i,s,a)}}h.each=h.forEach=function(n,e,t){var r,o;if(e=S(e,t),m(n))for(r=0,o=n.length;r<o;r++)e(n[r],r,n);else{var i=h.keys(n);for(r=0,o=i.length;r<o;r++)e(n[i[r]],i[r],n)}return n},h.map=h.collect=function(n,e,t){e=T(e,t);for(var r=!m(n)&&h.keys(n),o=(r||n).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=e(n[s],s,n)}return i},h.reduce=h.foldl=h.inject=A(1),h.reduceRight=h.foldr=A(-1),h.find=h.detect=function(n,e,t){var r;if(void 0!==(r=m(n)?h.findIndex(n,e,t):h.findKey(n,e,t))&&-1!==r)return n[r]},h.filter=h.select=function(n,e,t){var r=[];return e=T(e,t),h.each(n,function(n,t,o){e(n,t,o)&&r.push(n)}),r},h.reject=function(n,e,t){return h.filter(n,h.negate(T(e)),t)},h.every=h.all=function(n,e,t){e=T(e,t);for(var r=!m(n)&&h.keys(n),o=(r||n).length,i=0;i<o;i++){var a=r?r[i]:i;if(!e(n[a],a,n))return!1}return!0},h.some=h.any=function(n,e,t){e=T(e,t);for(var r=!m(n)&&h.keys(n),o=(r||n).length,i=0;i<o;i++){var a=r?r[i]:i;if(e(n[a],a,n))return!0}return!1},h.contains=h.includes=h.include=function(n,e,t,r){return m(n)||(n=h.values(n)),("number"!=typeof t||r)&&(t=0),h.indexOf(n,e,t)>=0},h.invoke=function(n,e){var t=c.call(arguments,2),r=h.isFunction(e);return h.map(n,function(n){var o=r?e:n[e];return null==o?o:o.apply(n,t)})},h.pluck=function(n,e){return h.map(n,h.property(e))},h.where=function(n,e){return h.filter(n,h.matcher(e))},h.findWhere=function(n,e){return h.find(n,h.matcher(e))},h.max=function(n,e,t){var r,o,i=-1/0,a=-1/0;if(null==e&&null!=n)for(var s=0,c=(n=m(n)?n:h.values(n)).length;s<c;s++)(r=n[s])>i&&(i=r);else e=T(e,t),h.each(n,function(n,t,r){((o=e(n,t,r))>a||o===-1/0&&i===-1/0)&&(i=n,a=o)});return i},h.min=function(n,e,t){var r,o,i=1/0,a=1/0;if(null==e&&null!=n)for(var s=0,c=(n=m(n)?n:h.values(n)).length;s<c;s++)(r=n[s])<i&&(i=r);else e=T(e,t),h.each(n,function(n,t,r){((o=e(n,t,r))<a||o===1/0&&i===1/0)&&(i=n,a=o)});return i},h.shuffle=function(n){for(var e,t=m(n)?n:h.values(n),r=t.length,o=Array(r),i=0;i<r;i++)(e=h.random(0,i))!==i&&(o[i]=o[e]),o[e]=t[i];return o},h.sample=function(n,e,t){return null==e||t?(m(n)||(n=h.values(n)),n[h.random(n.length-1)]):h.shuffle(n).slice(0,Math.max(0,e))},h.sortBy=function(n,e,t){return e=T(e,t),h.pluck(h.map(n,function(n,t,r){return{value:n,index:t,criteria:e(n,t,r)}}).sort(function(n,e){var t=n.criteria,r=e.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(t<r||void 0===r)return-1}return n.index-e.index}),"value")};var R=function(n){return function(e,t,r){var o={};return t=T(t,r),h.each(e,function(r,i){var a=t(r,i,e);n(o,r,a)}),o}};h.groupBy=R(function(n,e,t){h.has(n,t)?n[t].push(e):n[t]=[e]}),h.indexBy=R(function(n,e,t){n[t]=e}),h.countBy=R(function(n,e,t){h.has(n,t)?n[t]++:n[t]=1}),h.toArray=function(n){return n?h.isArray(n)?c.call(n):m(n)?h.map(n,h.identity):h.values(n):[]},h.size=function(n){return null==n?0:m(n)?n.length:h.keys(n).length},h.partition=function(n,e,t){e=T(e,t);var r=[],o=[];return h.each(n,function(n,t,i){(e(n,t,i)?r:o).push(n)}),[r,o]},h.first=h.head=h.take=function(n,e,t){if(null!=n)return null==e||t?n[0]:h.initial(n,n.length-e)},h.initial=function(n,e,t){return c.call(n,0,Math.max(0,n.length-(null==e||t?1:e)))},h.last=function(n,e,t){if(null!=n)return null==e||t?n[n.length-1]:h.rest(n,Math.max(0,n.length-e))},h.rest=h.tail=h.drop=function(n,e,t){return c.call(n,null==e||t?1:e)},h.compact=function(n){return h.filter(n,h.identity)};var C=function(n,e,t,r){for(var o=[],i=0,a=r||0,s=N(n);a<s;a++){var c=n[a];if(m(c)&&(h.isArray(c)||h.isArguments(c))){e||(c=C(c,e,t));var u=0,l=c.length;for(o.length+=l;u<l;)o[i++]=c[u++]}else t||(o[i++]=c)}return o};function y(n){return function(e,t,r){t=T(t,r);for(var o=N(e),i=n>0?0:o-1;i>=0&&i<o;i+=n)if(t(e[i],i,e))return i;return-1}}function L(n,e,t){return function(r,o,i){var a=0,s=N(r);if("number"==typeof i)n>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(t&&i&&s)return r[i=t(r,o)]===o?i:-1;if(o!=o)return(i=e(c.call(r,a,s),h.isNaN))>=0?i+a:-1;for(i=n>0?a:s-1;i>=0&&i<s;i+=n)if(r[i]===o)return i;return-1}}h.flatten=function(n,e){return C(n,e,!1)},h.without=function(n){return h.difference(n,c.call(arguments,1))},h.uniq=h.unique=function(n,e,t,r){h.isBoolean(e)||(r=t,t=e,e=!1),null!=t&&(t=T(t,r));for(var o=[],i=[],a=0,s=N(n);a<s;a++){var c=n[a],u=t?t(c,a,n):c;e?(a&&i===u||o.push(c),i=u):t?h.contains(i,u)||(i.push(u),o.push(c)):h.contains(o,c)||o.push(c)}return o},h.union=function(){return h.uniq(C(arguments,!0,!0))},h.intersection=function(n){for(var e=[],t=arguments.length,r=0,o=N(n);r<o;r++){var i=n[r];if(!h.contains(e,i)){for(var a=1;a<t&&h.contains(arguments[a],i);a++);a===t&&e.push(i)}}return e},h.difference=function(n){var e=C(arguments,!0,!0,1);return h.filter(n,function(n){return!h.contains(e,n)})},h.zip=function(){return h.unzip(arguments)},h.unzip=function(n){for(var e=n&&h.max(n,N).length||0,t=Array(e),r=0;r<e;r++)t[r]=h.pluck(n,r);return t},h.object=function(n,e){for(var t={},r=0,o=N(n);r<o;r++)e?t[n[r]]=e[r]:t[n[r][0]]=n[r][1];return t},h.findIndex=y(1),h.findLastIndex=y(-1),h.sortedIndex=function(n,e,t,r){for(var o=(t=T(t,r,1))(e),i=0,a=N(n);i<a;){var s=Math.floor((i+a)/2);t(n[s])<o?i=s+1:a=s}return i},h.indexOf=L(1,h.findIndex,h.sortedIndex),h.lastIndexOf=L(-1,h.findLastIndex),h.range=function(n,e,t){null==e&&(e=n||0,n=0),t=t||1;for(var r=Math.max(Math.ceil((e-n)/t),0),o=Array(r),i=0;i<r;i++,n+=t)o[i]=n;return o};var b=function(n,e,t,r,o){if(!(r instanceof e))return n.apply(t,o);var i=v(n.prototype),a=n.apply(i,o);return h.isObject(a)?a:i};h.bind=function(n,e){if(E&&n.bind===E)return E.apply(n,c.call(arguments,1));if(!h.isFunction(n))throw new TypeError("Bind must be called on a function");var t=c.call(arguments,2),r=function(){return b(n,r,e,this,t.concat(c.call(arguments)))};return r},h.partial=function(n){var e=c.call(arguments,1),t=function(){for(var r=0,o=e.length,i=Array(o),a=0;a<o;a++)i[a]=e[a]===h?arguments[r++]:e[a];for(;r<arguments.length;)i.push(arguments[r++]);return b(n,t,this,this,i)};return t},h.bindAll=function(n){var e,t,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n[t=arguments[e]]=h.bind(n[t],n);return n},h.memoize=function(n,e){var t=function(r){var o=t.cache,i=""+(e?e.apply(this,arguments):r);return h.has(o,i)||(o[i]=n.apply(this,arguments)),o[i]};return t.cache={},t},h.delay=function(n,e){var t=c.call(arguments,2);return setTimeout(function(){return n.apply(null,t)},e)},h.defer=h.partial(h.delay,h,1),h.throttle=function(n,e,t){var r,o,i,a=null,s=0;t||(t={});var c=function(){s=!1===t.leading?0:h.now(),a=null,i=n.apply(r,o),a||(r=o=null)};return function(){var u=h.now();s||!1!==t.leading||(s=u);var l=e-(u-s);return r=this,o=arguments,l<=0||l>e?(a&&(clearTimeout(a),a=null),s=u,i=n.apply(r,o),a||(r=o=null)):a||!1===t.trailing||(a=setTimeout(c,l)),i}},h.debounce=function(n,e,t){var r,o,i,a,s,c=function(){var u=h.now()-a;u<e&&u>=0?r=setTimeout(c,e-u):(r=null,t||(s=n.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=h.now();var u=t&&!r;return r||(r=setTimeout(c,e)),u&&(s=n.apply(i,o),i=o=null),s}},h.wrap=function(n,e){return h.partial(e,n)},h.negate=function(n){return function(){return!n.apply(this,arguments)}},h.compose=function(){var n=arguments,e=n.length-1;return function(){for(var t=e,r=n[e].apply(this,arguments);t--;)r=n[t].call(this,r);return r}},h.after=function(n,e){return function(){if(--n<1)return e.apply(this,arguments)}},h.before=function(n,e){var t;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=null),t}},h.once=h.partial(h.before,2);var D=!{toString:null}.propertyIsEnumerable("toString"),w=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function k(n,e){var t=w.length,r=n.constructor,o=h.isFunction(r)&&r.prototype||i,a="constructor";for(h.has(n,a)&&!h.contains(e,a)&&e.push(a);t--;)(a=w[t])in n&&n[a]!==o[a]&&!h.contains(e,a)&&e.push(a)}h.keys=function(n){if(!h.isObject(n))return[];if(d)return d(n);var e=[];for(var t in n)h.has(n,t)&&e.push(t);return D&&k(n,e),e},h.allKeys=function(n){if(!h.isObject(n))return[];var e=[];for(var t in n)e.push(t);return D&&k(n,e),e},h.values=function(n){for(var e=h.keys(n),t=e.length,r=Array(t),o=0;o<t;o++)r[o]=n[e[o]];return r},h.mapObject=function(n,e,t){e=T(e,t);for(var r,o=h.keys(n),i=o.length,a={},s=0;s<i;s++)a[r=o[s]]=e(n[r],r,n);return a},h.pairs=function(n){for(var e=h.keys(n),t=e.length,r=Array(t),o=0;o<t;o++)r[o]=[e[o],n[e[o]]];return r},h.invert=function(n){for(var e={},t=h.keys(n),r=0,o=t.length;r<o;r++)e[n[t[r]]]=t[r];return e},h.functions=h.methods=function(n){var e=[];for(var t in n)h.isFunction(n[t])&&e.push(t);return e.sort()},h.extend=g(h.allKeys),h.extendOwn=h.assign=g(h.keys),h.findKey=function(n,e,t){e=T(e,t);for(var r,o=h.keys(n),i=0,a=o.length;i<a;i++)if(e(n[r=o[i]],r,n))return r},h.pick=function(n,e,t){var r,o,i={},a=n;if(null==a)return i;h.isFunction(e)?(o=h.allKeys(a),r=S(e,t)):(o=C(arguments,!1,!1,1),r=function(n,e,t){return e in t},a=Object(a));for(var s=0,c=o.length;s<c;s++){var u=o[s],l=a[u];r(l,u,a)&&(i[u]=l)}return i},h.omit=function(n,e,t){if(h.isFunction(e))e=h.negate(e);else{var r=h.map(C(arguments,!1,!1,1),String);e=function(n,e){return!h.contains(r,e)}}return h.pick(n,e,t)},h.defaults=g(h.allKeys,!0),h.create=function(n,e){var t=v(n);return e&&h.extendOwn(t,e),t},h.clone=function(n){return h.isObject(n)?h.isArray(n)?n.slice():h.extend({},n):n},h.tap=function(n,e){return e(n),n},h.isMatch=function(n,e){var t=h.keys(e),r=t.length;if(null==n)return!r;for(var o=Object(n),i=0;i<r;i++){var a=t[i];if(e[a]!==o[a]||!(a in o))return!1}return!0};var M=function(n,e,t,r){if(n===e)return 0!==n||1/n==1/e;if(null==n||null==e)return n===e;n instanceof h&&(n=n._wrapped),e instanceof h&&(e=e._wrapped);var o=u.call(n);if(o!==u.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:0==+n?1/+n==1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e}var i="[object Array]"===o;if(!i){if("object"!=typeof n||"object"!=typeof e)return!1;var a=n.constructor,s=e.constructor;if(a!==s&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(s)&&s instanceof s)&&"constructor"in n&&"constructor"in e)return!1}r=r||[];for(var c=(t=t||[]).length;c--;)if(t[c]===n)return r[c]===e;if(t.push(n),r.push(e),i){if((c=n.length)!==e.length)return!1;for(;c--;)if(!M(n[c],e[c],t,r))return!1}else{var l,f=h.keys(n);if(c=f.length,h.keys(e).length!==c)return!1;for(;c--;)if(l=f[c],!h.has(e,l)||!M(n[l],e[l],t,r))return!1}return t.pop(),r.pop(),!0};h.isEqual=function(n,e){return M(n,e)},h.isEmpty=function(n){return null==n||(m(n)&&(h.isArray(n)||h.isString(n)||h.isArguments(n))?0===n.length:0===h.keys(n).length)},h.isElement=function(n){return!(!n||1!==n.nodeType)},h.isArray=f||function(n){return"[object Array]"===u.call(n)},h.isObject=function(n){var e=typeof n;return"function"===e||"object"===e&&!!n},h.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){h["is"+n]=function(e){return u.call(e)==="[object "+n+"]"}}),h.isArguments(arguments)||(h.isArguments=function(n){return h.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(h.isFunction=function(n){return"function"==typeof n||!1}),h.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},h.isNaN=function(n){return h.isNumber(n)&&n!==+n},h.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===u.call(n)},h.isNull=function(n){return null===n},h.isUndefined=function(n){return void 0===n},h.has=function(n,e){return null!=n&&l.call(n,e)},h.noConflict=function(){return t._=r,this},h.identity=function(n){return n},h.constant=function(n){return function(){return n}},h.noop=function(){},h.property=I,h.propertyOf=function(n){return null==n?function(){}:function(e){return n[e]}},h.matcher=h.matches=function(n){return n=h.extendOwn({},n),function(e){return h.isMatch(e,n)}},h.times=function(n,e,t){var r=Array(Math.max(0,n));e=S(e,t,1);for(var o=0;o<n;o++)r[o]=e(o);return r},h.random=function(n,e){return null==e&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))},h.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=h.invert(P),F=function(n){var e=function(e){return n[e]},t="(?:"+h.keys(n).join("|")+")",r=RegExp(t),o=RegExp(t,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(o,e):n}};h.escape=F(P),h.unescape=F(x),h.result=function(n,e,t){var r=null==n?void 0:n[e];return void 0===r&&(r=t),h.isFunction(r)?r.call(n):r};var W=0;h.uniqueId=function(n){var e=++W+"";return n?n+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,B=function(n){return"\\"+U[n]};h.template=function(n,e,t){!e&&t&&(e=t),e=h.defaults({},e,h.templateSettings);var r=RegExp([(e.escape||G).source,(e.interpolate||G).source,(e.evaluate||G).source].join("|")+"|$","g"),o=0,i="__p+='";n.replace(r,function(e,t,r,a,s){return i+=n.slice(o,s).replace(j,B),o=s+e.length,t?i+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(e.variable||"obj","_",i)}catch(n){throw n.source=i,n}var s=function(n){return a.call(this,n,h)},c=e.variable||"obj";return s.source="function("+c+"){\n"+i+"}",s},h.chain=function(n){var e=h(n);return e._chain=!0,e};var H=function(n,e){return n._chain?h(e).chain():e};h.mixin=function(n){h.each(h.functions(n),function(e){var t=h[e]=n[e];h.prototype[e]=function(){var n=[this._wrapped];return s.apply(n,arguments),H(this,t.apply(h,n))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=o[n];h.prototype[n]=function(){var t=this._wrapped;return e.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0],H(this,t)}}),h.each(["concat","join","slice"],function(n){var e=o[n];h.prototype[n]=function(){return H(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},h.prototype.valueOf=h.prototype.toJSON=h.prototype.value,h.prototype.toString=function(){return""+this._wrapped}}).call(commonjsGlobal)}),underscore_1=underscore.sortBy,underscore_2=underscore.reject,underscore_3=underscore.isEqual,underscore_4=underscore.where,underscore_5=underscore.find,underscore_6=underscore.filter,underscore_7=underscore.any,underscore_8=underscore.map,underscore_9=underscore.intersection,underscore_10=underscore.contains,underscore_11=underscore.zip,underscore_12=underscore.min,underscore_13=underscore.max,underscore_14=underscore.mapObject,underscore_15=underscore.omit,underscore_16=underscore._,_=Object.freeze({default:underscore,__moduleExports:underscore,sortBy:underscore_1,reject:underscore_2,isEqual:underscore_3,where:underscore_4,find:underscore_5,filter:underscore_6,any:underscore_7,map:underscore_8,intersection:underscore_9,contains:underscore_10,zip:underscore_11,min:underscore_12,max:underscore_13,mapObject:underscore_14,omit:underscore_15,_:underscore_16}),lib=createCommonjsModule(function(n,e){function t(n,e){if("string"!=typeof n)return{};var t,r,o=e?Object.assign({},e):{},i=/[a-z]+/gi;for(n=n;r=i.exec(n);)o[t=r[0]]=o.hasOwnProperty(t)?o[t]+1:1;return o}Object.defineProperty(e,"__esModule",{value:!0});var r="abcdefghijklmnopqrstuvwxyz".split("");function o(n){var e,t=[];for(e=0;e<n.length;e++)t.push(n.slice(0,e)+n.slice(e+1));for(e=0;e<n.length-1;e++)t.push(n.slice(0,e)+n.slice(e+1,e+2)+n.slice(e,e+1)+n.slice(e+2));for(e=0;e<n.length;e++)r.forEach(function(r){t.push(n.slice(0,e)+r+n.slice(e+1))});for(e=0;e<=n.length;e++)r.forEach(function(r){t.push(n.slice(0,e)+r+n.slice(e))});return t}function i(n){var e,t=[];for(e in n)n.hasOwnProperty(e)&&t.push(e);return Math.max.apply(null,t)}function a(n){return Object.keys(n).length}function s(n,e){if(n.hasOwnProperty(e))return e;var t={},r=o(e);return r.forEach(function(e){n.hasOwnProperty(e)&&(t[n[e]]=e)}),a(t)>0?t[i(t)]:(r.forEach(function(e){o(e).forEach(function(e){n.hasOwnProperty(e)&&(t[n[e]]=e)})}),a(t)>0?t[i(t)]:e)}function c(n){return n.map(function(n){return function(n){return n?n.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/\s/g,"\n"):""}(n)}).filter(function(n){return""!==n}).join("\n")}var u="a\nability\nable\nabout\nabove\naccept\naccording\naccount\nacross\nact\naction\nactivity\nactually\nadd\naddress\nadministration\nadmit\nadult\naffect\nafter\nagain\nagainst\nage\nagency\nagent\nago\nagree\nagreement\nahead\nair\nall\nallow\nalmost\nalone\nalong\nalready\nalso\nalthough\nalways\nAmerican\namong\namount\nanalysis\nand\nanimal\nanother\nanswer\nany\nanyone\nanything\nappear\napply\napproach\narea\nargue\narm\naround\narrive\nart\narticle\nartist\nas\nask\nassume\nat\nattack\nattention\nattorney\naudience\nauthor\nauthority\navailable\navoid\naway\nbaby\nback\nbad\nbag\nball\nbank\nbar\nbase\nbe\nbeat\nbeautiful\nbecause\nbecome\nbed\nbefore\nbegin\nbehavior\nbehind\nbelieve\nbenefit\nbest\nbetter\nbetween\nbeyond\nbig\nbill\nbillion\nbit\nblack\nblood\nblue\nboard\nbody\nbook\nborn\nboth\nbox\nboy\nbreak\nbring\nbrother\nbudget\nbuild\nbuilding\nbusiness\nbut\nbuy\nby\ncall\ncamera\ncampaign\ncan\ncancer\ncandidate\ncapital\ncar\ncard\ncare\ncareer\ncarry\ncase\ncatch\ncause\ncell\ncenter\ncentral\ncentury\ncertain\ncertainly\nchair\nchallenge\nchance\nchange\ncharacter\ncharge\ncheck\nchild\nchoice\nchoose\nchurch\ncitizen\ncity\ncivil\nclaim\nclass\nclear\nclearly\nclose\ncoach\ncold\ncollection\ncollege\ncolor\ncome\ncommercial\ncommon\ncommunity\ncompany\ncompare\ncomputer\nconcern\ncondition\nconference\nCongress\nconsider\nconsumer\ncontain\ncontinue\ncontrol\ncost\ncould\ncountry\ncouple\ncourse\ncourt\ncover\ncreate\ncrime\ncultural\nculture\ncup\ncurrent\ncustomer\ncut\ndark\ndata\ndaughter\nday\ndead\ndeal\ndeath\ndebate\ndecade\ndecide\ndecision\ndeep\ndefense\ndegree\nDemocrat\ndemocratic\ndescribe\ndesign\ndespite\ndetail\ndetermine\ndevelop\ndevelopment\ndie\ndifference\ndifferent\ndifficult\ndinner\ndirection\ndirector\ndiscover\ndiscuss\ndiscussion\ndisease\ndo\ndoctor\ndog\ndoor\ndown\ndraw\ndream\ndrive\ndrop\ndrug\nduring\neach\nearly\neast\neasy\neat\neconomic\neconomy\nedge\neducation\neffect\neffort\neight\neither\nelection\nelse\nemployee\nend\nenergy\nenjoy\nenough\nenter\nentire\nenvironment\nenvironmental\nespecially\nestablish\neven\nevening\nevent\never\nevery\neverybody\neveryone\neverything\nevidence\nexactly\nexample\nexecutive\nexist\nexpect\nexperience\nexpert\nexplain\neye\nface\nfact\nfactor\nfail\nfall\nfamily\nfar\nfast\nfather\nfear\nfederal\nfeel\nfeeling\nfew\nfield\nfight\nfigure\nfill\nfilm\nfinal\nfinally\nfinancial\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfish\nfive\nfloor\nfly\nfocus\nfollow\nfood\nfoot\nfor\nforce\nforeign\nforget\nform\nformer\nforward\nfour\nfree\nfriend\nfrom\nfront\nfull\nfund\nfuture\ngame\ngarden\ngas\ngeneral\ngeneration\nget\ngirl\ngive\nglass\ngo\ngoal\ngood\ngovernment\ngreat\ngreen\nground\ngroup\ngrow\ngrowth\nguess\ngun\nguy\nhair\nhalf\nhand\nhang\nhappen\nhappy\nhard\nhave\nhe\nhead\nhealth\nhear\nheart\nheat\nheavy\nhelp\nher\nhere\nherself\nhigh\nhim\nhimself\nhis\nhistory\nhit\nhold\nhome\nhope\nhospital\nhot\nhotel\nhour\nhouse\nhow\nhowever\nhuge\nhuman\nhundred\nhusband\nI\nidea\nidentify\nif\nimage\nimagine\nimpact\nimportant\nimprove\nin\ninclude\nincluding\nincrease\nindeed\nindicate\nindividual\nindustry\ninformation\ninside\ninstead\ninstitution\ninterest\ninteresting\ninternational\ninterview\ninto\ninvestment\ninvolve\nissue\nit\nitem\nits\nitself\njob\njoin\njust\nkeep\nkey\nkid\nkill\nkind\nkitchen\nknow\nknowledge\nland\nlanguage\nlarge\nlast\nlate\nlater\nlaugh\nlaw\nlawyer\nlay\nlead\nleader\nlearn\nleast\nleave\nleft\nleg\nlegal\nless\nlet\nletter\nlevel\nlie\nlife\nlight\nlike\nlikely\nline\nlist\nlisten\nlittle\nlive\nlocal\nlong\nlook\nlose\nloss\nlot\nlove\nlow\nmachine\nmagazine\nmain\nmaintain\nmajor\nmajority\nmake\nman\nmanage\nmanagement\nmanager\nmany\nmarket\nmarriage\nmaterial\nmatter\nmay\nmaybe\nme\nmean\nmeasure\nmedia\nmedical\nmeet\nmeeting\nmember\nmemory\nmention\nmessage\nmethod\nmiddle\nmight\nmilitary\nmillion\nmind\nminute\nmiss\nmission\nmodel\nmodern\nmoment\nmoney\nmonth\nmore\nmorning\nmost\nmother\nmouth\nmove\nmovement\nmovie\nMr\nMrs\nmuch\nmusic\nmust\nmy\nmyself\nname\nnation\nnational\nnatural\nnature\nnear\nnearly\nnecessary\nneed\nnetwork\nnever\nnew\nnews\nnewspaper\nnext\nnice\nnight\nno\nnone\nnor\nnorth\nnot\nnote\nnothing\nnotice\nnow\nn't\nnumber\noccur\nof\noff\noffer\noffice\nofficer\nofficial\noften\noh\noil\nok\nold\non\nonce\none\nonly\nonto\nopen\noperation\nopportunity\noption\nor\norder\norganization\nother\nothers\nour\nout\noutside\nover\nown\nowner\npage\npain\npainting\npaper\nparent\npart\nparticipant\nparticular\nparticularly\npartner\nparty\npass\npast\npatient\npattern\npay\npeace\npeople\nper\nperform\nperformance\nperhaps\nperiod\nperson\npersonal\nphone\nphysical\npick\npicture\npiece\nplace\nplan\nplant\nplay\nplayer\nPM\npoint\npolice\npolicy\npolitical\npolitics\npoor\npopular\npopulation\nposition\npositive\npossible\npower\npractice\nprepare\npresent\npresident\npressure\npretty\nprevent\nprice\nprivate\nprobably\nproblem\nprocess\nproduce\nproduct\nproduction\nprofessional\nprofessor\nprogram\nproject\nproperty\nprotect\nprove\nprovide\npublic\npull\npurpose\npush\nput\nquality\nquestion\nquickly\nquite\nrace\nradio\nraise\nrange\nrate\nrather\nreach\nread\nready\nreal\nreality\nrealize\nreally\nreason\nreceive\nrecent\nrecently\nrecognize\nrecord\nred\nreduce\nreflect\nregion\nrelate\nrelationship\nreligious\nremain\nremember\nremove\nreport\nrepresent\nRepublican\nrequire\nresearch\nresource\nrespond\nresponse\nresponsibility\nrest\nresult\nreturn\nreveal\nrich\nright\nrise\nrisk\nroad\nrock\nrole\nroom\nrule\nrun\nsafe\nsame\nsave\nsay\nscene\nschool\nscience\nscientist\nscore\nsea\nseason\nseat\nsecond\nsection\nsecurity\nsee\nseek\nseem\nsell\nsend\nsenior\nsense\nseries\nserious\nserve\nservice\nset\nseven\nseveral\nsex\nsexual\nshake\nshare\nshe\nshoot\nshort\nshot\nshould\nshoulder\nshow\nside\nsign\nsignificant\nsimilar\nsimple\nsimply\nsince\nsing\nsingle\nsister\nsit\nsite\nsituation\nsix\nsize\nskill\nskin\nsmall\nsmile\nso\nsocial\nsociety\nsoldier\nsome\nsomebody\nsomeone\nsomething\nsometimes\nson\nsong\nsoon\nsort\nsound\nsource\nsouth\nsouthern\nspace\nspeak\nspecial\nspecific\nspeech\nspend\nsport\nspring\nstaff\nstage\nstand\nstandard\nstar\nstart\nstate\nstatement\nstation\nstay\nstep\nstill\nstock\nstop\nstore\nstory\nstrategy\nstreet\nstrong\nstructure\nstudent\nstudy\nstuff\nstyle\nsubject\nsuccess\nsuccessful\nsuch\nsuddenly\nsuffer\nsuggest\nsummer\nsupport\nsure\nsurface\nsystem\ntable\ntake\ntalk\ntask\ntax\nteach\nteacher\nteam\ntechnology\ntelevision\ntell\nten\ntend\nterm\ntest\nthan\nthank\nthat\nthe\ntheir\nthem\nthemselves\nthen\ntheory\nthere\nthese\nthey\nthing\nthink\nthird\nthis\nthose\nthough\nthought\nthousand\nthreat\nthree\nthrough\nthroughout\nthrow\nthus\ntime\nto\ntoday\ntogether\ntonight\ntoo\ntop\ntotal\ntough\ntoward\ntown\ntrade\ntraditional\ntraining\ntravel\ntreat\ntreatment\ntree\ntrial\ntrip\ntrouble\ntrue\ntruth\ntry\nturn\nTV\ntwo\ntype\nunder\nunderstand\nunit\nuntil\nup\nupon\nus\nuse\nusually\nvalue\nvarious\nvery\nvictim\nview\nviolence\nvisit\nvoice\nvote\nwait\nwalk\nwall\nwant\nwar\nwatch\nwater\nway\nwe\nweapon\nwear\nweek\nweight\nwell\nwest\nwestern\nwhat\nwhatever\nwhen\nwhere\nwhether\nwhich\nwhile\nwhite\nwho\nwhole\nwhom\nwhose\nwhy\nwide\nwife\nwill\nwin\nwind\nwindow\nwish\nwith\nwithin\nwithout\nwoman\nwonder\nword\nwork\nworker\nworld\nworry\nwould\nwrite\nwriter\nwrong\nyard\nyeah\nyear\nyes\nyet\nyou\nyoung\nyour\nyourself",l=[".",",","!","?",'"'];function f(n,e){return function(n){return n.split(" ")}(e).map(function(e){return function(n,e){var t=function(n){var e=function(n){var e=0;for(;-1!==l.indexOf(n[e]);)e+=1;return[n.substring(e),n.substring(0,e)]}(n),t=e[0],r=e[1],o=function(n){var e=n.length-1;for(;-1!==l.indexOf(n[e]);)e-=1;return[n.substring(0,e+1),n.substring(e+1)]}(t),i=o[0],a=o[1];return[r,i,a]}(e),r=t[0],o=t[1],i=t[2];return[r,s(n,o),i].join("")}(n,e)}).join(" ")}e.train=t,e.correct=s,e.edits=o,e.correctSentenceFromSamples=function(n,e,r){var o=c(n);return r&&(o=o+"\n"+u),f(t(o),e)},e.processSentences=c});unwrapExports(lib);var lib_1=lib.train,lib_2=lib.correct,lib_4=lib.correctSentenceFromSamples,lib_5=lib.processSentences;function getOptimalResponses(n){return underscore_4(n,{optimal:!0})}function getSubOptimalResponses(n){return underscore_6(n,function(n){return null==n.parent_id&&void 0!==n.feedback&&0==n.optimal})}function getTopOptimalResponse(n){var e=underscore_1(getOptimalResponses(n),function(n){return n.count}).reverse()[0];if(void 0===e)throw"DataError - No Optimal Response";return e}var lib$2=createCommonjsModule(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringNormalize=function(n){return n.replace(/[\u201C\u201D\u02DD]/g,'"').replace(/[\u00B4\u0060\u2018\u2019\u0301\u02BB\u02C8]/g,"'").replace(/[\u02CC\u201A\uFF0C]/g,",")}});unwrapExports(lib$2);var lib_1$1=lib$2.stringNormalize;function exactMatch(n,e){return underscore_5(e,function(e){return lib_1$1(e.text)===lib_1$1(n)})}function conceptResultTemplate(n,e){return void 0===e&&(e=!1),{conceptUID:n,correct:e}}function focusPointMatch(n,e){return underscore_5(e,function(e){var t=e.text.split("|||");return!underscore_7(t,function(e){return-1!==n.indexOf(e)})})}function focusPointChecker(n,e,t){var r=focusPointMatch(n,e);if(r)return focusPointResponseBuilder(r,t)}function focusPointResponseBuilder(n,e){var t={feedback:n.feedback,author:"Focus Point Hint",parent_id:getTopOptimalResponse(e).id};return n.concept_uid&&(t.concept_results=[conceptResultTemplate(n.concept_uid)]),n.concept_results&&(t.concept_results=n.concept_results),t}function incorrectSequenceMatch(n,e){return underscore_5(e,function(e){var t=e.text.split("|||");return underscore_7(t,function(e){return new RegExp(e).test(n)})})}function incorrectSequenceChecker(n,e,t){var r=incorrectSequenceMatch(n,e);if(r)return incorrectSequenceResponseBuilder(r,t)}function incorrectSequenceResponseBuilder(n,e){var t={feedback:n.feedback,author:"Incorrect Sequence Hint",parent_id:getTopOptimalResponse(e).id};return n.concept_results&&(t.concept_results=n.concept_results),t}var feedbackStrings={punctuationError:"There may be an error. How could you update the punctuation?",punctuationAndCaseError:"There may be an error. How could you update the punctuation and capitalization?",typingError:"Try again. There may be a spelling mistake.",caseError:"Proofread your work. There may be a capitalization error.",minLengthError:"Revise your work. Do you have all of the information from the prompt?",maxLengthError:"Revise your work. How could this sentence be shorter and more concise?",modifiedWordError:"Revise your work. You may have mixed up a word.",additionalWordError:"Revise your work. You may have added an extra word.",missingWordError:"Revise your work. You may have left out an important word.",whitespaceError:"There may be an error. You may have forgotten a space between two words.",flexibleModifiedWordError:"Revise your work. You may have mixed up a word.",flexibleAdditionalWordError:"Revise your work. You may have added an extra word.",flexibleMissingWordError:"Revise your work. You may have left out an important word.",spacingAfterCommaError:"<p>Revise your work. Always put a space after a <em>comma</em>.</p>"},spellingFeedbackStrings={"Capitalization Hint":"Proofread your work. Check your capitalization and spelling.","Punctuation Hint":"There may be an error. How could you update the punctuation and spelling?","Punctuation and Case Hint":"There may be an error. How could you update the punctuation, capitalization, and spelling?","Spelling Hint":"Try again. There may be a spelling mistake.","Modified Word Hint":"Revise your work. You may have mixed up or misspelled a word.","Additional Word Hint":"You may have added an extra word. Revise your work, and then check your spelling","Missing Word Hint":"You may have left out an important word. Revise your work, and then check your spelling","Whitespace Hint":"Proofread your work. You may have forgotten a space between two words. Also check your spelling.","Spacing After Comma Hint":feedbackStrings.spacingAfterCommaError};function caseInsensitiveMatch(n,e){return underscore_5(getOptimalResponses(e),function(e){return lib_1$1(e.text).toLowerCase()===lib_1$1(n).toLowerCase()})}function caseInsensitiveChecker(n,e,t){void 0===t&&(t=!1);var r=caseInsensitiveMatch(n,e);if(r)return caseInsensitiveResponseBuilder(e,r.id,t?r.concept_results:null)}function caseInsensitiveResponseBuilder(n,e,t){return{feedback:feedbackStrings.caseError,author:"Capitalization Hint",parent_id:e,concept_results:t||[conceptResultTemplate("66upe3S5uvqxuHoHOt4PcQ")]}}function removePunctuation(n){return n.replace(/[^A-Za-z0-9\s]/g,"")}function punctuationInsensitiveMatch(n,e){return underscore_5(getOptimalResponses(e),function(e){return removePunctuation(lib_1$1(e.text))===removePunctuation(lib_1$1(n))})}function punctuationInsensitiveChecker(n,e,t){void 0===t&&(t=!1);var r=punctuationInsensitiveMatch(n,e);if(r)return punctuationInsensitiveResponseBuilder(e,r.id,t?r.concept_results:null)}function punctuationInsensitiveResponseBuilder(n,e,t){return{feedback:feedbackStrings.punctuationError,author:"Punctuation Hint",parent_id:e,concept_results:t||[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function punctuationAndCaseInsensitiveMatch(n,e){return underscore_5(getOptimalResponses(e),function(e){return removePunctuation$1(lib_1$1(n)).toLowerCase()===removePunctuation$1(lib_1$1(e.text)).toLowerCase()})}function removePunctuation$1(n){return n.replace(/[^A-Za-z0-9\s]/g,"")}function punctuationAndCaseInsensitiveChecker(n,e,t){void 0===t&&(t=!1);var r=punctuationAndCaseInsensitiveMatch(n,e);if(r)return punctuationAndCaseInsensitiveResponseBuilder(e,r.id,t?r.concept_results:null)}function punctuationAndCaseInsensitiveResponseBuilder(n,e,t){return{feedback:feedbackStrings.punctuationAndCaseError,author:"Punctuation and Case Hint",parent_id:e,concept_results:t||[conceptResultTemplate("66upe3S5uvqxuHoHOt4PcQ"),conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}var subStrings=[" ,"," ."," ;"," !"," ?"],subStringsToText={" ,":"comma"," .":"period"," ;":"semi-colon"," !":"exclamation mark"," ?":"question mark"};function getFeedbackForPunc(n){return"<p>Revise your sentence. You don't need to have a space before a <em>"+subStringsToText[n]+"</em>.</p>"}function checkForSpacingError(n){return underscore_5(subStrings,function(e){return-1!==n.indexOf(e)})}function spacingBeforePunctuation(n){var e=checkForSpacingError(n);return e?{feedback:getFeedbackForPunc(e)}:void 0}function spacingBeforePunctuationMatch(n){return spacingBeforePunctuation(n)}function spacingBeforePunctuationChecker(n,e){var t=spacingBeforePunctuationMatch(n);if(t)return spacingBeforePunctuationResponseBuilder(e,t.feedback)}function spacingBeforePunctuationResponseBuilder(n,e){return{feedback:e,author:"Punctuation Hint",parent_id:getTopOptimalResponse(n)?getTopOptimalResponse(n).id:void 0,concept_results:[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function spacingAfterCommaMatch(n){for(var e=0;e<n.length;e++)if(","===n[e]&&e+1<n.length){var t=n[e-1],r=n[e+1];if(" "!==r&&t&&!t.match(/\d/)&&r&&!r.match(/\d/))return!0}return!1}function spacingAfterCommaChecker(n,e){if(spacingAfterCommaMatch(n))return spacingAfterCommaResponseBuilder(e)}function spacingAfterCommaResponseBuilder(n){return{feedback:feedbackStrings.spacingAfterCommaError,author:"Spacing After Comma Hint",parent_id:getTopOptimalResponse(n)?getTopOptimalResponse(n).id:void 0,concept_results:[conceptResultTemplate("mdFUuuNR7N352bbMw4Mj9Q")]}}function whitespaceMatch(n,e){return underscore_5(getOptimalResponses(e),function(e){return removeSpaces(lib_1$1(n))===removeSpaces(lib_1$1(e.text))})}var removeSpaces=function(n){return n.replace(/\s+/g,"")};function whitespaceChecker(n,e){var t=whitespaceMatch(n,e);if(t)return whitespaceResponseBuilder(e,t.id)}function whitespaceResponseBuilder(n,e){return{feedback:feedbackStrings.whitespaceError,author:"Whitespace Hint",parent_id:e,concept_results:[conceptResultTemplate("5Yv4-kNHwwCO2p8HI90oqQ")]}}var diff=createCommonjsModule(function(n,e){var t;t=function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}return t.m=n,t.c=e,t.p="",t(0)}([function(n,e,t){e.__esModule=!0,e.canonicalize=e.convertChangesToXML=e.convertChangesToDMP=e.merge=e.parsePatch=e.applyPatches=e.applyPatch=e.createPatch=e.createTwoFilesPatch=e.structuredPatch=e.diffArrays=e.diffJson=e.diffCss=e.diffSentences=e.diffTrimmedLines=e.diffLines=e.diffWordsWithSpace=e.diffWords=e.diffChars=e.Diff=void 0;var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(2),s=t(3),c=t(5),u=t(6),l=t(7),f=t(8),d=t(9),E=t(10),_=t(11),p=t(13),h=t(14),S=t(16),T=t(17);e.Diff=i.default,e.diffChars=a.diffChars,e.diffWords=s.diffWords,e.diffWordsWithSpace=s.diffWordsWithSpace,e.diffLines=c.diffLines,e.diffTrimmedLines=c.diffTrimmedLines,e.diffSentences=u.diffSentences,e.diffCss=l.diffCss,e.diffJson=f.diffJson,e.diffArrays=d.diffArrays,e.structuredPatch=h.structuredPatch,e.createTwoFilesPatch=h.createTwoFilesPatch,e.createPatch=h.createPatch,e.applyPatch=E.applyPatch,e.applyPatches=E.applyPatches,e.parsePatch=_.parsePatch,e.merge=p.merge,e.convertChangesToDMP=S.convertChangesToDMP,e.convertChangesToXML=T.convertChangesToXML,e.canonicalize=f.canonicalize},function(n,e){function t(){}function r(n,e,t,r,o){for(var i=0,a=e.length,s=0,c=0;i<a;i++){var u=e[i];if(u.removed){if(u.value=n.join(r.slice(c,c+u.count)),c+=u.count,i&&e[i-1].added){var l=e[i-1];e[i-1]=e[i],e[i]=l}}else{if(!u.added&&o){var f=t.slice(s,s+u.count);f=f.map(function(n,e){var t=r[c+e];return t.length>n.length?t:n}),u.value=n.join(f)}else u.value=n.join(t.slice(s,s+u.count));s+=u.count,u.added||(c+=u.count)}}var d=e[a-1];return a>1&&"string"==typeof d.value&&(d.added||d.removed)&&n.equals("",d.value)&&(e[a-2].value+=d.value,e.pop()),e}e.__esModule=!0,e.default=t,t.prototype={diff:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.callback;"function"==typeof t&&(o=t,t={}),this.options=t;var i=this;function a(n){return o?(setTimeout(function(){o(void 0,n)},0),!0):n}n=this.castInput(n),e=this.castInput(e),n=this.removeEmpty(this.tokenize(n));var s=(e=this.removeEmpty(this.tokenize(e))).length,c=n.length,u=1,l=s+c,f=[{newPos:-1,components:[]}],d=this.extractCommon(f[0],e,n,0);if(f[0].newPos+1>=s&&d+1>=c)return a([{value:this.join(e),count:e.length}]);function E(){for(var t=-1*u;t<=u;t+=2){var o=void 0,l=f[t-1],d=f[t+1],E=(d?d.newPos:0)-t;l&&(f[t-1]=void 0);var _=l&&l.newPos+1<s,p=d&&0<=E&&E<c;if(_||p){if(!_||p&&l.newPos<d.newPos?(o={newPos:(h=d).newPos,components:h.components.slice(0)},i.pushComponent(o.components,void 0,!0)):((o=l).newPos++,i.pushComponent(o.components,!0,void 0)),E=i.extractCommon(o,e,n,t),o.newPos+1>=s&&E+1>=c)return a(r(i,o.components,e,n,i.useLongestToken));f[t]=o}else f[t]=void 0}var h;u++}if(o)!function n(){setTimeout(function(){if(u>l)return o();E()||n()},0)}();else for(;u<=l;){var _=E();if(_)return _}},pushComponent:function(n,e,t){var r=n[n.length-1];r&&r.added===e&&r.removed===t?n[n.length-1]={count:r.count+1,added:e,removed:t}:n.push({count:1,added:e,removed:t})},extractCommon:function(n,e,t,r){for(var o=e.length,i=t.length,a=n.newPos,s=a-r,c=0;a+1<o&&s+1<i&&this.equals(e[a+1],t[s+1]);)a++,s++,c++;return c&&n.components.push({count:c}),n.newPos=a,s},equals:function(n,e){return this.options.comparator?this.options.comparator(n,e):n===e||this.options.ignoreCase&&n.toLowerCase()===e.toLowerCase()},removeEmpty:function(n){for(var e=[],t=0;t<n.length;t++)n[t]&&e.push(n[t]);return e},castInput:function(n){return n},tokenize:function(n){return n.split("")},join:function(n){return n.join("")}}},function(n,e,t){e.__esModule=!0,e.characterDiff=void 0,e.diffChars=function(n,e,t){return a.diff(n,e,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r};var a=e.characterDiff=new i.default},function(n,e,t){e.__esModule=!0,e.wordDiff=void 0,e.diffWords=function(n,e,t){return t=a.generateOptions(t,{ignoreWhitespace:!0}),u.diff(n,e,t)},e.diffWordsWithSpace=function(n,e,t){return u.diff(n,e,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(4);var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,c=/\S/,u=e.wordDiff=new i.default;u.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!c.test(n)&&!c.test(e)},u.tokenize=function(n){for(var e=n.split(/(\s+|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&s.test(e[t])&&s.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e}},function(n,e){e.__esModule=!0,e.generateOptions=function(n,e){if("function"==typeof n)e.callback=n;else if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}},function(n,e,t){e.__esModule=!0,e.lineDiff=void 0,e.diffLines=function(n,e,t){return s.diff(n,e,t)},e.diffTrimmedLines=function(n,e,t){var r=a.generateOptions(t,{ignoreWhitespace:!0});return s.diff(n,e,r)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r},a=t(4);var s=e.lineDiff=new i.default;s.tokenize=function(n){var e=[],t=n.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var o=t[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),e.push(o))}return e}},function(n,e,t){e.__esModule=!0,e.sentenceDiff=void 0,e.diffSentences=function(n,e,t){return a.diff(n,e,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r};var a=e.sentenceDiff=new i.default;a.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(n,e,t){e.__esModule=!0,e.cssDiff=void 0,e.diffCss=function(n,e,t){return a.diff(n,e,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r};var a=e.cssDiff=new i.default;a.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)}},function(n,e,t){e.__esModule=!0,e.jsonDiff=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};e.diffJson=function(n,e,t){return u.diff(n,e,t)},e.canonicalize=l;var o,i=t(1),a=(o=i)&&o.__esModule?o:{default:o},s=t(5);var c=Object.prototype.toString,u=e.jsonDiff=new a.default;function l(n,e,t){e=e||[],t=t||[];var o=void 0;for(o=0;o<e.length;o+=1)if(e[o]===n)return t[o];var i=void 0;if("[object Array]"===c.call(n)){for(e.push(n),i=new Array(n.length),t.push(i),o=0;o<n.length;o+=1)i[o]=l(n[o],e,t);return e.pop(),t.pop(),i}if(n&&n.toJSON&&(n=n.toJSON()),"object"===(void 0===n?"undefined":r(n))&&null!==n){e.push(n),i={},t.push(i);var a=[],s=void 0;for(s in n)n.hasOwnProperty(s)&&a.push(s);for(a.sort(),o=0;o<a.length;o+=1)i[s=a[o]]=l(n[s],e,t);e.pop(),t.pop()}else i=n;return i}u.useLongestToken=!0,u.tokenize=s.lineDiff.tokenize,u.castInput=function(n){var e=this.options.undefinedReplacement;return"string"==typeof n?n:JSON.stringify(l(n),function(n,t){return void 0===t?e:t},"  ")},u.equals=function(n,e){return a.default.prototype.equals.call(u,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))}},function(n,e,t){e.__esModule=!0,e.arrayDiff=void 0,e.diffArrays=function(n,e,t){return a.diff(n,e,t)};var r,o=t(1),i=(r=o)&&r.__esModule?r:{default:r};var a=e.arrayDiff=new i.default;a.tokenize=a.join=function(n){return n.slice()},a.removeEmpty=function(n){return n}},function(n,e,t){e.__esModule=!0,e.applyPatch=s,e.applyPatches=function(n,e){"string"==typeof n&&(n=o.parsePatch(n));var t=0;!function r(){var o=n[t++];if(!o)return e.complete();e.loadFile(o,function(n,t){if(n)return e.complete(n);var i=s(t,o,e);e.patched(o,i,function(n){if(n)return e.complete(n);r()})})}()};var r,o=t(11),i=t(12),a=(r=i)&&r.__esModule?r:{default:r};function s(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e&&(e=o.parsePatch(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=n.split(/\r\n|[\n\v\f\r\x85]/),i=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=e.hunks,c=t.compareLine||function(n,e,t,r){return e===r},u=0,l=t.fuzzFactor||0,f=0,d=0,E=void 0,_=void 0;function p(n,e){for(var t=0;t<n.lines.length;t++){var o=n.lines[t],i=o[0],a=o.substr(1);if(" "===i||"-"===i){if(!c(e+1,r[e],i,a)&&++u>l)return!1;e++}}return!0}for(var h=0;h<s.length;h++){for(var S=s[h],T=r.length-S.oldLines,g=0,v=d+S.oldStart-1,I=a.default(v,f,T);void 0!==g;g=I())if(p(S,v+g)){S.offset=d+=g;break}if(void 0===g)return!1;f=S.offset+S.oldStart+S.oldLines}for(var O=0,N=0;N<s.length;N++){var m=s[N],A=m.oldStart+m.offset+O-1;O+=m.newLines-m.oldLines,A<0&&(A=0);for(var R=0;R<m.lines.length;R++){var C=m.lines[R],y=C[0],L=C.substr(1),b=m.linedelimiters[R];if(" "===y)A++;else if("-"===y)r.splice(A,1),i.splice(A,1);else if("+"===y)r.splice(A,0,L),i.splice(A,0,b),A++;else if("\\"===y){var D=m.lines[R-1]?m.lines[R-1][0]:null;"+"===D?E=!0:"-"===D&&(_=!0)}}}if(E)for(;!r[r.length-1];)r.pop(),i.pop();else _&&(r.push(""),i.push("\n"));for(var w=0;w<r.length-1;w++)r[w]=r[w]+i[w];return r.join("")}},function(n,e){e.__esModule=!0,e.parsePatch=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.split(/\r\n|[\n\v\f\r\x85]/),r=n.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],i=0;function a(){var n={};for(o.push(n);i<t.length;){var r=t[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(r))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(r);a&&(n.index=a[1]),i++}for(s(n),s(n),n.hunks=[];i<t.length;){var u=t[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(u))break;if(/^@@/.test(u))n.hunks.push(c());else{if(u&&e.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(u));i++}}}function s(n){var e=/^(---|\+\+\+)\s+([\S ]*)(?:\t(.*?)\s*)?$/.exec(t[i]);if(e){var r="---"===e[1]?"old":"new",o=e[2].replace(/\\\\/g,"\\");/^".*"$/.test(o)&&(o=o.substr(1,o.length-2)),n[r+"FileName"]=o,n[r+"Header"]=e[3],i++}}function c(){for(var n=i,o=t[i++],a=o.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+a[1],oldLines:+a[2]||1,newStart:+a[3],newLines:+a[4]||1,lines:[],linedelimiters:[]},c=0,u=0;i<t.length&&!(0===t[i].indexOf("--- ")&&i+2<t.length&&0===t[i+1].indexOf("+++ ")&&0===t[i+2].indexOf("@@"));i++){var l=t[i][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)break;s.lines.push(t[i]),s.linedelimiters.push(r[i]||"\n"),"+"===l?c++:"-"===l?u++:" "===l&&(c++,u++)}if(c||1!==s.newLines||(s.newLines=0),u||1!==s.oldLines||(s.oldLines=0),e.strict){if(c!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(n+1));if(u!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(n+1))}return s}for(;i<t.length;)a();return o}},function(n,e){e.__esModule=!0,e.default=function(n,e,t){var r=!0,o=!1,i=!1,a=1;return function s(){if(r&&!i){if(o?a++:r=!1,n+a<=t)return a;i=!0}if(!o)return i||(r=!0),e<=n-a?-a++:(o=!0,s())}}},function(n,e,t){e.__esModule=!0,e.calcLineCount=s,e.merge=function(n,e,t){n=c(n,t),e=c(e,t);var r={};(n.index||e.index)&&(r.index=n.index||e.index);(n.newFileName||e.newFileName)&&(u(n)?u(e)?(r.oldFileName=l(r,n.oldFileName,e.oldFileName),r.newFileName=l(r,n.newFileName,e.newFileName),r.oldHeader=l(r,n.oldHeader,e.oldHeader),r.newHeader=l(r,n.newHeader,e.newHeader)):(r.oldFileName=n.oldFileName,r.newFileName=n.newFileName,r.oldHeader=n.oldHeader,r.newHeader=n.newHeader):(r.oldFileName=e.oldFileName||n.oldFileName,r.newFileName=e.newFileName||n.newFileName,r.oldHeader=e.oldHeader||n.oldHeader,r.newHeader=e.newHeader||n.newHeader));r.hunks=[];var o=0,i=0,a=0,s=0;for(;o<n.hunks.length||i<e.hunks.length;){var _=n.hunks[o]||{oldStart:1/0},p=e.hunks[i]||{oldStart:1/0};if(f(_,p))r.hunks.push(d(_,a)),o++,s+=_.newLines-_.oldLines;else if(f(p,_))r.hunks.push(d(p,s)),i++,a+=p.newLines-p.oldLines;else{var h={oldStart:Math.min(_.oldStart,p.oldStart),oldLines:0,newStart:Math.min(_.newStart+a,p.oldStart+s),newLines:0,lines:[]};E(h,_.oldStart,_.lines,p.oldStart,p.lines),i++,o++,r.hunks.push(h)}}return r};var r=t(14),o=t(11),i=t(15);function a(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function s(n){var e=function n(e){var t=0;var r=0;e.forEach(function(e){if("string"!=typeof e){var o=n(e.mine),i=n(e.theirs);void 0!==t&&(o.oldLines===i.oldLines?t+=o.oldLines:t=void 0),void 0!==r&&(o.newLines===i.newLines?r+=o.newLines:r=void 0)}else void 0===r||"+"!==e[0]&&" "!==e[0]||r++,void 0===t||"-"!==e[0]&&" "!==e[0]||t++});return{oldLines:t,newLines:r}}(n.lines),t=e.oldLines,r=e.newLines;void 0!==t?n.oldLines=t:delete n.oldLines,void 0!==r?n.newLines=r:delete n.newLines}function c(n,e){if("string"==typeof n){if(/^@@/m.test(n)||/^Index:/m.test(n))return o.parsePatch(n)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return r.structuredPatch(void 0,void 0,e,n)}return n}function u(n){return n.newFileName&&n.newFileName!==n.oldFileName}function l(n,e,t){return e===t?e:(n.conflict=!0,{mine:e,theirs:t})}function f(n,e){return n.oldStart<e.oldStart&&n.oldStart+n.oldLines<e.oldStart}function d(n,e){return{oldStart:n.oldStart,oldLines:n.oldLines,newStart:n.newStart+e,newLines:n.newLines,lines:n.lines}}function E(n,e,t,r,o){var i={offset:e,lines:t,index:0},c={offset:r,lines:o,index:0};for(S(n,i,c),S(n,c,i);i.index<i.lines.length&&c.index<c.lines.length;){var u=i.lines[i.index],l=c.lines[c.index];if("-"!==u[0]&&"+"!==u[0]||"-"!==l[0]&&"+"!==l[0])if("+"===u[0]&&" "===l[0]){var f;(f=n.lines).push.apply(f,a(g(i)))}else if("+"===l[0]&&" "===u[0]){var d;(d=n.lines).push.apply(d,a(g(c)))}else"-"===u[0]&&" "===l[0]?p(n,i,c):"-"===l[0]&&" "===u[0]?p(n,c,i,!0):u===l?(n.lines.push(u),i.index++,c.index++):h(n,g(i),g(c));else _(n,i,c)}T(n,i),T(n,c),s(n)}function _(n,e,t){var r=g(e),o=g(t);if(v(r)&&v(o)){var s,c;if(i.arrayStartsWith(r,o)&&I(t,r,r.length-o.length))return void(s=n.lines).push.apply(s,a(r));if(i.arrayStartsWith(o,r)&&I(e,o,o.length-r.length))return void(c=n.lines).push.apply(c,a(o))}else if(i.arrayEqual(r,o)){var u;return void(u=n.lines).push.apply(u,a(r))}h(n,r,o)}function p(n,e,t,r){var o,i=g(e),s=function(n,e){var t=[],r=[],o=0,i=!1,a=!1;for(;o<e.length&&n.index<n.lines.length;){var s=n.lines[n.index],c=e[o];if("+"===c[0])break;if(i=i||" "!==s[0],r.push(c),o++,"+"===s[0])for(a=!0;"+"===s[0];)t.push(s),s=n.lines[++n.index];c.substr(1)===s.substr(1)?(t.push(s),n.index++):a=!0}"+"===(e[o]||"")[0]&&i&&(a=!0);if(a)return t;for(;o<e.length;)r.push(e[o++]);return{merged:r,changes:t}}(t,i);s.merged?(o=n.lines).push.apply(o,a(s.merged)):h(n,r?s:i,r?i:s)}function h(n,e,t){n.conflict=!0,n.lines.push({conflict:!0,mine:e,theirs:t})}function S(n,e,t){for(;e.offset<t.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];n.lines.push(r),e.offset++}}function T(n,e){for(;e.index<e.lines.length;){var t=e.lines[e.index++];n.lines.push(t)}}function g(n){for(var e=[],t=n.lines[n.index][0];n.index<n.lines.length;){var r=n.lines[n.index];if("-"===t&&"+"===r[0]&&(t="+"),t!==r[0])break;e.push(r),n.index++}return e}function v(n){return n.reduce(function(n,e){return n&&"-"===e[0]},!0)}function I(n,e,t){for(var r=0;r<t;r++){var o=e[e.length-t+r].substr(1);if(n.lines[n.index+r]!==" "+o)return!1}return n.index+=t,!0}},function(n,e,t){e.__esModule=!0,e.structuredPatch=i,e.createTwoFilesPatch=a,e.createPatch=function(n,e,t,r,o,i){return a(n,n,e,t,r,o,i)};var r=t(5);function o(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function i(n,e,t,i,a,s,c){c||(c={}),void 0===c.context&&(c.context=4);var u=r.diffLines(t,i,c);function l(n){return n.map(function(n){return" "+n})}u.push({value:"",lines:[]});for(var f=[],d=0,E=0,_=[],p=1,h=1,S=function(n){var e=u[n],r=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=r,e.added||e.removed){var a;if(!d){var s=u[n-1];d=p,E=h,s&&(_=c.context>0?l(s.lines.slice(-c.context)):[],d-=_.length,E-=_.length)}(a=_).push.apply(a,o(r.map(function(n){return(e.added?"+":"-")+n}))),e.added?h+=r.length:p+=r.length}else{if(d)if(r.length<=2*c.context&&n<u.length-2){var S;(S=_).push.apply(S,o(l(r)))}else{var T,g=Math.min(r.length,c.context);(T=_).push.apply(T,o(l(r.slice(0,g))));var v={oldStart:d,oldLines:p-d+g,newStart:E,newLines:h-E+g,lines:_};if(n>=u.length-2&&r.length<=c.context){var I=/\n$/.test(t),O=/\n$/.test(i);0!=r.length||I?I&&O||_.push("\\ No newline at end of file"):_.splice(v.oldLines,0,"\\ No newline at end of file")}f.push(v),d=0,E=0,_=[]}p+=r.length,h+=r.length}},T=0;T<u.length;T++)S(T);return{oldFileName:n,newFileName:e,oldHeader:a,newHeader:s,hunks:f}}function a(n,e,t,r,o,a,s){var c=i(n,e,t,r,o,a,s),u=[];n==e&&u.push("Index: "+n),u.push("==================================================================="),u.push("--- "+c.oldFileName+(void 0===c.oldHeader?"":"\t"+c.oldHeader)),u.push("+++ "+c.newFileName+(void 0===c.newHeader?"":"\t"+c.newHeader));for(var l=0;l<c.hunks.length;l++){var f=c.hunks[l];u.push("@@ -"+f.oldStart+","+f.oldLines+" +"+f.newStart+","+f.newLines+" @@"),u.push.apply(u,f.lines)}return u.join("\n")+"\n"}},function(n,e){function t(n,e){if(e.length>n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}e.__esModule=!0,e.arrayEqual=function(n,e){if(n.length!==e.length)return!1;return t(n,e)},e.arrayStartsWith=t},function(n,e){e.__esModule=!0,e.convertChangesToDMP=function(n){for(var e=[],t=void 0,r=void 0,o=0;o<n.length;o++)t=n[o],r=t.added?1:t.removed?-1:0,e.push([r,t.value]);return e}},function(n,e){function t(n){var e=n;return e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}e.__esModule=!0,e.convertChangesToXML=function(n){for(var e=[],r=0;r<n.length;r++){var o=n[r];o.added?e.push("<ins>"):o.removed&&e.push("<del>"),e.push(t(o.value)),o.added?e.push("</ins>"):o.removed&&e.push("</del>")}return e.join("")}}])},n.exports=t()});unwrapExports(diff);var diff_1=diff.diffWords,constants={timing:"Revise your work. Which joining word helps show the timing of the events?",opposite:"Revise your work. Which joining word helps show that the two ideas are opposite?",reason:"Revise your work. Which joining word helps tell why or give a reason?",prerequisite:"Revise your work. Which joining word helps show that one of the ideas must happen for the other one to happen?",choice:"Revise your work. Which joining word is used to show a choice?",and:"Revise your work. Which joining word is used to add another idea?"},data={after:{feedback:constants.timing},"as soon as":{feedback:constants.timing},before:{feedback:constants.timing},whenever:{feedback:constants.timing},while:{feedback:constants.timing},once:{feedback:constants.timing},when:{feedback:constants.timing},until:{feedback:constants.timing},although:{feedback:constants.opposite},"even though":{feedback:constants.opposite},though:{feedback:constants.opposite},but:{feedback:constants.opposite},yet:{feedback:constants.opposite},since:{feedback:constants.reason},so:{feedback:constants.reason},because:{feedback:constants.reason},for:{feedback:constants.reason},as:{feedback:constants.reason},"as long as":{feedback:constants.prerequisite},if:{feedback:constants.prerequisite},unless:{feedback:constants.prerequisite},"in order to":{feedback:constants.prerequisite},or:{feedback:constants.choice},nor:{feedback:constants.choice},and:{feedback:constants.and}};function getFeedbackForMissingWord(n){if(n){var e=data[cleanMissingWord(n)];if(e)return e.feedback}}function cleanMissingWord(n){return n.trim().toLowerCase()}var levenshtein=createCommonjsModule(function(n){var e,t;e=commonjsGlobal,t=function(n){function e(n,e){var t,r;for(t=-1,r=n.length;++t<r;)e(n[t],t,n)}function t(n,t){var r;return r=Array(n.length),e(n,function(n,e,o){r[e]=t(n,e,o)}),r}function r(n,t,r){return e(n,function(n,e,o){r=t(n,e,o)}),r}function o(n,t){var r,o,i;return i=this._matrix=[],n==t?this.distance=0:""==n?this.distance=t.length:""==t?this.distance=n.length:(r=[0],e(n,function(n,e){r[++e]=e}),i[0]=r,e(t,function(a,s){o=[++s],e(n,function(e,i){i++,n.charAt(i-1)==t.charAt(s-1)?o[i]=r[i-1]:o[i]=Math.min(r[i]+1,o[i-1]+1,r[i-1]+1)}),r=o,i[i.length]=r}),this.distance=o[o.length-1])}return o.prototype.toString=o.prototype.inspect=function(n){var e,o,i,a;for(o=r(e=this.getMatrix(),function(n,e){return Math.max(n,r(e,Math.max,0))},0),i=Array((o+"").length).join(" "),a=[];a.length<(e[0]&&e[0].length||0);)a[a.length]=Array(i.length+1).join("-");return a=a.join("-+")+"-",t(e,function(n){return t(n,function(n){return(i+n).slice(-i.length)}).join(" |")+" "}).join("\n"+a+"\n")},o.prototype.getMatrix=function(){return this._matrix.slice()},o.prototype.valueOf=function(){return this.distance},o},n&&n.exports?n.exports=t():e.Levenshtein=t()}),Levenshtein_=Object.freeze({default:levenshtein,__moduleExports:levenshtein}),Levenshtein=levenshtein||Levenshtein_;function sortByLevenshteinAndOptimal(n,e){return e.forEach(function(e){e.levenshtein=new Levenshtein(e.text,n).distance}),e.sort(function(n,e){var t=Number(n.levenshtein),r=Number(e.levenshtein);return t-r!=0?t-r:n.optimal===e.optimal?0:n.optimal?-1:1})}function rigidChangeObjectChecker(n,e){var t=rigidChangeObjectMatch(n,e);if(t)return rigidChangeObjectMatchResponseBuilder(t)}function flexibleChangeObjectChecker(n,e){var t=flexibleChangeObjectMatch(n,e);if(t)return flexibleChangeObjectMatchResponseBuilder(t)}function levenshteinMatchObjectChecker(n,e){var t=levenshteinChangeObjectMatch(n,e);if(t)return rigidChangeObjectMatchResponseBuilder(t,!0)}function rigidChangeObjectMatchResponseBuilder(n,e){void 0===e&&(e=!1);var t={};switch(n.errorType){case ERROR_TYPES.INCORRECT_WORD:var r=getFeedbackForMissingWord(n.missingText);return t.feedback=r||feedbackStrings.modifiedWordError,t.author="Modified Word Hint",t.parent_id=n.response.key,t.concept_results=e?n.response.concept_results:[conceptResultTemplate("H-2lrblngQAQ8_s-ctye4g")],t;case ERROR_TYPES.MISSPELLED_WORD:return t.feedback=spellingFeedbackStrings["Spelling Hint"],t.author="Spelling Hint",t.parent_id=n.response.key,t.concept_results=e?n.response.concept_results:[conceptResultTemplate("H-2lrblngQAQ8_s-ctye4g")],t;case ERROR_TYPES.ADDITIONAL_WORD:return t.feedback=feedbackStrings.additionalWordError,t.author="Additional Word Hint",t.parent_id=n.response.key,t.concept_results=e?n.response.concept_results:[conceptResultTemplate("QYHg1tpDghy5AHWpsIodAg")],t;case ERROR_TYPES.MISSING_WORD:return t.feedback=feedbackStrings.missingWordError,t.author="Missing Word Hint",t.parent_id=n.response.key,t.concept_results=e?n.response.concept_results:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")],t;default:return}}function flexibleChangeObjectMatchResponseBuilder(n){var e=rigidChangeObjectMatchResponseBuilder(n);return e.author="Flexible "+e.author,e}function rigidChangeObjectMatch(n,e){return checkChangeObjectMatch(n,getOptimalResponses(e),function(n){return lib_1$1(n)})}function flexibleChangeObjectMatch(n,e){return checkChangeObjectMatch(n,getOptimalResponses(e),function(n){return removePunctuation(lib_1$1(n)).toLowerCase()})}function levenshteinChangeObjectMatch(n,e){return checkChangeObjectMatch(n,getOptimalResponses(sortByLevenshteinAndOptimal(n,getOptimalResponses(e).concat(getSubOptimalResponses(e)))),function(n){return lib_1$1(n)})}function checkChangeObjectMatch(n,e,t,r){var o;void 0===r&&(r=!1),r||(e=underscore_1(e,"count").reverse());var i=underscore_5(e,function(r){return o=getErrorType(t(r.text),t(n),e)});if(i){var a=getMissingAndAddedString(i.text,n);return Object.assign({},{response:i,errorType:o},a)}}var ERROR_TYPES={NO_ERROR:"NO_ERROR",MISSING_WORD:"MISSING_WORD",ADDITIONAL_WORD:"ADDITIONAL_WORD",INCORRECT_WORD:"INCORRECT_WORD",MISSPELLED_WORD:"MISSPELLED_WORD"},getErrorType=function(n,e,t){var r=getChangeObjects(n,e);if(checkForIncorrect(r)){var o=r.find(function(n){return n.added})?r.find(function(n){return n.added}).value:void 0,i=r.find(function(n){return n.removed})?r.find(function(n){return n.removed}).value:void 0;if(o&&i){var a=getOptimalResponses(t).map(function(n){return n.text}),s=lib_5(a),c=lib_1(s);if(lib_2(c,o)===i)return ERROR_TYPES.MISSPELLED_WORD}return ERROR_TYPES.INCORRECT_WORD}return checkForAdditions(r)?ERROR_TYPES.ADDITIONAL_WORD:checkForDeletions(r)?ERROR_TYPES.MISSING_WORD:void 0},getMissingAndAddedString=function(n,e){var t=getChangeObjects(n,e),r=t?underscore_4(t,function(n){return n.removed})[0]:null,o=r?r.value:void 0,i=t?underscore_4(t,function(n){return n.added})[0]:null;return{missingText:o,extraneousText:i?i.value:void 0}},getChangeObjects=function(n,e){return diff_1(n,e)},checkForIncorrect=function(n){var e=!1,t=0,r=0;return n.forEach(function(n,o,i){e=checkForTooLongError(n),checkForAddedOrRemoved(n)&&(r+=1),n.removed&&getLengthOfChangeObject(n)<2&&o===i.length-1?t+=1:t+=n.removed&&getLengthOfChangeObject(n)<2&&i[o+1].added?1:0}),!e&&1===t&&2===r},checkForAdditions=function(n){var e=!1,t=0,r=0;return n.forEach(function(n,o,i){checkForAddedOrRemoved(n)&&(r+=1),e=checkForTooLongError(n),n.added&&getLengthOfChangeObject(n)<2&&0===o?t+=1:t+=n.added&&getLengthOfChangeObject(n)<2&&!i[o-1].removed?1:0}),!e&&1===t&&1===r},checkForDeletions=function(n){var e=!1,t=0,r=0;return n.forEach(function(n,o,i){checkForAddedOrRemoved(n)&&(r+=1),e=checkForTooLongError(n),n.removed&&getLengthOfChangeObject(n)<2&&o===i.length-1?t+=1:t+=n.removed&&getLengthOfChangeObject(n)<2&&!i[o+1].added?1:0}),!e&&1===t&&1===r},checkForAddedOrRemoved=function(n){return n.removed||n.added},checkForTooLongChangeObjects=function(n){return getLengthOfChangeObject(n)>=2},checkForTooLongError=function(n){return(n.removed||n.added)&&checkForTooLongChangeObjects(n)},getLengthOfChangeObject=function(n){var e=n.value.split(" ").filter(Boolean);return e?e.length:0};function getCommonWords(n){var e=underscore_8(n,function(n){return normalizeString(n).split(" ")});return underscore_9.apply(_,e)}function getCommonWordsWithImportantPOS(n){return getCommonWords(n)}function getMissingWords(n,e){var t=getCommonWordsWithImportantPOS(e),r=normalizeString(n).split(" ");return underscore_2(t,function(n){return underscore_10(r,n)})}function _getCaseSensitiveWord(n,e){var t=removePunctuation$2(e),r=normalizeString(e).indexOf(n);return t.substring(r,n.length+r)}function getFeedbackForWord(n,e,t){return t?"<p>Revise your work. Use all the words from the prompt, and make it complete by adding to it.</p>":"<p>Revise your sentence to include the word <em>"+_getCaseSensitiveWord(n,e[0])+"</em>. You may have misspelled it.</p>"}function extractSentencesFromResponses(n){return n.map(function(n){return n.text})}function getMissingWordsFromResponses(n,e){var t=getMissingWords(n,e);return underscore_1(t,function(n){return n.length}).reverse()}function checkForMissingWords(n,e,t){void 0===t&&(t=!1);var r=extractSentencesFromResponses(e),o=getMissingWordsFromResponses(n,r);if(o.length>0)return{feedback:getFeedbackForWord(o[0],r,t)}}function normalizeString(n){return void 0===n&&(n=""),n.replace(/[.,?!;]/g,"").toLowerCase()}function removePunctuation$2(n){return void 0===n&&(n=""),n.replace(/[.,?!;]/g,"")}function requiredWordsMatch(n,e){return checkForMissingWords(n,getOptimalResponses(e))}function requiredWordsChecker(n,e){var t=requiredWordsMatch(n,e);if(t)return requiredWordsResponseBuilder(e,t.feedback)}function requiredWordsResponseBuilder(n,e){return{feedback:e,author:"Required Words Hint",parent_id:getTopOptimalResponse(n).id,concept_results:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")]}}function minLengthMatch(n,e){var t=getOptimalResponses(e);if(!(t.length<2)){var r=t.map(function(n){return lib_1$1(n.text).split(" ").length}),o=underscore_12(r)-1;return n.split(" ").length<o}}function minLengthChecker(n,e,t){if(void 0===t&&(t=!1),minLengthMatch(n,e))return minLengthResponseBuilder(e,t)}function minLengthResponseBuilder(n,e){var t=getOptimalResponses(n),r=underscore_1(t,function(n){return lib_1$1(n.text).length})[0];return{feedback:feedbackStrings.minLengthError,author:"Missing Details Hint",parent_id:r.key,concept_results:e?void 0:[conceptResultTemplate("N5VXCdTAs91gP46gATuvPQ")]}}function maxLengthMatch(n,e){var t=getOptimalResponses(e);if(t.length<2)return!1;var r=t.map(function(n){return lib_1$1(n.text).split(" ").length}),o=underscore_13(r)+1;return n.split(" ").length>o}function maxLengthChecker(n,e){if(maxLengthMatch(n,e))return maxLengthResponseBuilder(e)}function maxLengthResponseBuilder(n){var e=getOptimalResponses(n),t=underscore_1(e,function(n){return lib_1$1(n.text).length}).reverse()[0];return{feedback:feedbackStrings.maxLengthError,author:"Not Concise Hint",parent_id:t.key,concept_results:[conceptResultTemplate("QYHg1tpDghy5AHWpsIodAg")]}}function caseStartMatch(n,e){return/^[a-z]/.test(n)}function caseStartChecker(n,e){if(caseStartMatch(n,e))return caseStartResponseBuilder(e)}function caseStartResponseBuilder(n){return{feedback:feedbackStrings.caseError,author:"Capitalization Hint",parent_id:getTopOptimalResponse(n).id,concept_results:[conceptResultTemplate("S76ceOpAWR-5m-k47nu6KQ")]}}function punctuationEndMatch(n,e){var t=n[n.length-1];return!(!t||!t.match(/[a-z]/i))}function punctuationEndChecker(n,e,t){if(void 0===t&&(t=!1),punctuationEndMatch(n,e))return punctuationEndResponseBuilder(e,t)}function punctuationEndResponseBuilder(n,e){var t={feedback:feedbackStrings.punctuationError,author:"Punctuation End Hint",parent_id:getTopOptimalResponse(n).id,concept_results:[conceptResultTemplate("JVJhNIHGZLbHF6LYw605XA")]};return e&&(t.optimal=!1),t}function checkSentenceCombining(n,e,t,r,o){var i={response:e.trim(),responses:t,focusPoints:r,incorrectSequences:o},a={text:i.response,question_uid:n,count:1},s=checkForMatches(i,firstPassMatchers);if(s)return Object.assign(a,s);var c=prepareSpellingData(i),u=checkForMatches(c,firstPassMatchers,!0);if(u){var l=getSpellingFeedback(u);return Object.assign(a,l,{text:i.response,spelling_error:!0})}var f=checkForMatches(c,secondPassMatchers);return f?Object.assign(a,f):a}function firstPassMatchers(n,e){var t,r,o,i,a,s;return void 0===e&&(e=!1),__generator(this,function(c){switch(c.label){case 0:return t=n.response,r=n.spellCorrectedResponse,o=n.responses,i=n.focusPoints,a=n.incorrectSequences,[4,exactMatch(s=e?r:t,o)];case 1:return c.sent(),[4,focusPointChecker(s,i,o)];case 2:return c.sent(),[4,incorrectSequenceChecker(s,a,o)];case 3:return c.sent(),[4,caseInsensitiveChecker(s,o)];case 4:return c.sent(),[4,punctuationInsensitiveChecker(s,o)];case 5:return c.sent(),[4,punctuationAndCaseInsensitiveChecker(s,o)];case 6:return c.sent(),[4,spacingBeforePunctuationChecker(s,o)];case 7:return c.sent(),[4,spacingAfterCommaChecker(s,o)];case 8:return c.sent(),[4,whitespaceChecker(s,o)];case 9:return c.sent(),[4,rigidChangeObjectChecker(s,o)];case 10:return c.sent(),[2]}})}function secondPassMatchers(n,e){var t,r,o;return void 0===e&&(e=!1),__generator(this,function(e){switch(e.label){case 0:return t=n.response,r=n.spellCorrectedResponse,o=n.responses,n.incorrectSequences,[4,flexibleChangeObjectChecker(t,o)];case 1:return e.sent(),[4,requiredWordsChecker(r,o)];case 2:return e.sent(),[4,minLengthChecker(t,o)];case 3:return e.sent(),[4,maxLengthChecker(t,o)];case 4:return e.sent(),[4,caseStartChecker(t,o)];case 5:return e.sent(),[4,punctuationEndChecker(t,o)];case 6:return e.sent(),[2]}})}function checkForMatches(n,e,t){void 0===t&&(t=!1);for(var r=e(n,t),o=r.next();!o.value&&!o.done;)o=r.next();if(o.value)return o.value}function prepareSpellingData(n){var e=Object.assign({},n),t=getOptimalResponses(n.responses).map(function(n){return n.text});return e.spellCorrectedResponse=lib_4(t,n.response,!1),e}function getSpellingFeedback(n){var e=underscore_15(n,"count","child_count","created_at","first_attempt_count","key","optimal");return e.parent_id?e.feedback=spellingFeedbackStrings[e.author]:(e.author="Spelling Hint",e.feedback=spellingFeedbackStrings["Spelling Hint"],e.parent_id=e.id,delete e.id),e}function checkDiagnosticQuestion(n,e,t){var r={response:e.trim(),responses:t},o={text:r.response,question_uid:n,count:1,gradeIndex:"nonhuman"+n},i=checkForMatches$1(r,firstPassMatchers$1);return i?Object.assign(o,i):(o.gradeIndex="unmarked"+n,o)}function firstPassMatchers$1(n){var e,t,r;return __generator(this,function(o){switch(o.label){case 0:return e=n.response,t=n.responses,n.incorrectSequences,[4,exactMatch(r=e,t)];case 1:return o.sent(),[4,caseInsensitiveChecker(r,t,!0)];case 2:return o.sent(),[4,punctuationInsensitiveChecker(r,t,!0)];case 3:return o.sent(),[4,punctuationAndCaseInsensitiveChecker(r,t,!0)];case 4:return o.sent(),[4,minLengthChecker(r,t,!0)];case 5:return o.sent(),[4,levenshteinMatchObjectChecker(r,t)];case 6:return o.sent(),[4,whitespaceChecker(r,t)];case 7:return o.sent(),[2]}})}function checkForMatches$1(n,e){for(var t=e(n),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}var constants$1={FIREBASE:"https://quillconnectstaging.firebaseio.com/v2/",DISPLAY_ERROR:"DISPLAY_ERROR",DISPLAY_MESSAGE:"DISPLAY_MESSAGE",DISMISS_FEEDBACK:"DISMISS_FEEDBACK",CLEAR_DISPLAY_MESSAGE_AND_ERROR:"CLEAR_DISPLAY_MESSAGE_AND_ERROR",ATTEMPTING_LOGIN:"ATTEMPTING_LOGIN",LOGIN_USER:"LOGIN_USER",LOGOUT:"LOGOUT",LOGGED_IN:"LOGGED_IN",ANONYMOUS:"ANONYMOUS",AWAITING_AUTH_RESPONSE:"AWAITING_AUTH_RESPONSE",RECEIVE_CONCEPTS_DATA:"RECEIVE_CONCEPTS_DATA",AWAIT_NEW_CONCEPT_RESPONSE:"AWAIT_NEW_CONCEPT_RESPONSE",RECEIVE_NEW_CONCEPT_RESPONSE:"RECEIVE_NEW_CONCEPT_RESPONSE",START_CONCEPT_EDIT:"START_CONCEPT_EDIT",FINISH_CONCEPT_EDIT:"FINISH_CONCEPT_EDIT",SUBMIT_CONCEPT_EDIT:"SUBMIT_CONCEPT_EDIT",TOGGLE_NEW_CONCEPT_MODAL:"TOGGLE_NEW_CONCEPT_MODAL",EDITING_CONCEPT:"EDITING_CONCEPT",SUBMITTING_CONCEPT:"SUBMITTING_CONCEPT",RECEIVE_LESSONS_DATA:"RECEIVE_LESSONS_DATA",AWAIT_NEW_LESSON_RESPONSE:"AWAIT_NEW_LESSON_RESPONSE",RECEIVE_NEW_LESSON_RESPONSE:"RECEIVE_NEW_LESSON_RESPONSE",START_LESSON_EDIT:"START_LESSON_EDIT",FINISH_LESSON_EDIT:"FINISH_LESSON_EDIT",SUBMIT_LESSON_EDIT:"SUBMIT_LESSON_EDIT",TOGGLE_NEW_LESSON_MODAL:"TOGGLE_NEW_LESSON_MODAL",RECEIVE_CLASSROOM_LESSONS_DATA:"RECEIVE_CLASSROOM_LESSONS_DATA",RECEIVE_CLASSROOM_LESSON_DATA:"RECEIVE_CLASSROOM_LESSON_DATA",RECEIVE_CLASSROOM_LESSONS_REVIEW_DATA:"RECEIVE_CLASSROOM_LESSONS_REVIEW_DATA",NO_LESSON_ID:"NO_LESSON_ID",NO_LESSONS:"NO_LESSONS",SET_LESSON_ID:"SET_LESSON_ID",CLEAR_CLASSROOM_LESSON_DATA:"CLEAR_CLASSROOM_LESSON_DATA",EDITING_LESSON:"EDITING_LESSON",SUBMITTING_LESSON:"SUBMITTING_LESSON",RECEIVE_QUESTIONS_DATA:"RECEIVE_QUESTIONS_DATA",AWAIT_NEW_QUESTION_RESPONSE:"AWAIT_NEW_QUESTION_RESPONSE",RECEIVE_NEW_QUESTION_RESPONSE:"RECEIVE_NEW_QUESTION_RESPONSE",START_QUESTION_EDIT:"START_QUESTION_EDIT",FINISH_QUESTION_EDIT:"FINISH_QUESTION_EDIT",SUBMIT_QUESTION_EDIT:"SUBMIT_QUESTION_EDIT",TOGGLE_NEW_QUESTION_MODAL:"TOGGLE_NEW_QUESTION_MODAL",SHOULD_RELOAD_RESPONSES:"SHOULD_RELOAD_RESPONSES",CLEAR_QUESTION_STATE:"CLEAR_QUESTION_STATE",UPDATE_SEARCHED_RESPONSES:"UPDATE_SEARCHED_RESPONSES",SET_RESPONSE_PAGE_NUMBER:"SET_RESPONSE_PAGE_NUMBER",SET_RESPONSE_STRING_FILTER:"SET_RESPONSE_STRING_FILTER",INCREMENT_REQUEST_COUNT:"INCREMENT_REQUEST_COUNT",SET_SUGGESTED_SEQUENCES:"SET_SUGGESTED_SEQUENCES",SET_USED_SEQUENCES:"SET_USED_SEQUENCES",SET_COVERED_SEQUENCES:"SET_COVERED_SEQUENCES",EDITING_QUESTION:"EDITING_QUESTION",SUBMITTING_QUESTION:"SUBMITTING_QUESTION",RECEIVE_FILL_IN_BLANK_QUESTIONS_DATA:"RECEIVE_FILL_IN_BLANK_QUESTIONS_DATA",AWAIT_NEW_FILL_IN_BLANK_QUESTION_RESPONSE:"AWAIT_NEW_FILL_IN_BLANK_QUESTION_RESPONSE",RECEIVE_NEW_FILL_IN_BLANK_QUESTION_RESPONSE:"RECEIVE_NEW_FILL_IN_BLANK_QUESTION_RESPONSE",START_FILL_IN_BLANK_QUESTION_EDIT:"START_FILL_IN_BLANK_QUESTION_EDIT",FINISH_FILL_IN_BLANK_QUESTION_EDIT:"FINISH_FILL_IN_BLANK_QUESTION_EDIT",SUBMIT_FILL_IN_BLANK_QUESTION_EDIT:"SUBMIT_FILL_IN_BLANK_QUESTION_EDIT",TOGGLE_NEW_FILL_IN_BLANK_QUESTION_MODAL:"TOGGLE_NEW_FILL_IN_BLANK_QUESTION_MODAL",EDITING_FILL_IN_BLANK_QUESTION:"EDITING_FILL_IN_BLANK_QUESTION",SUBMITTING_FILL_IN_BLANK_QUESTION:"SUBMITTING_FILL_IN_BLANK_QUESTION",START_RESPONSE_EDIT:"START_RESPONSE_EDIT",CANCEL_RESPONSE_EDIT:"CANCEL_RESPONSE_EDIT",FINISH_RESPONSE_EDIT:"FINISH_RESPONSE_EDIT",SUBMIT_RESPONSE_EDIT:"SUBMIT_RESPONSE_EDIT",SUBMITTING_RESPONSE:"SUBMITTING_RESPONSE",START_CHILD_RESPONSE_VIEW:"START_CHILD_RESPONSE_VIEW",CANCEL_CHILD_RESPONSE_VIEW:"CANCEL_CHILD_RESPONSE_VIEW",START_FROM_RESPONSE_VIEW:"START_FROM_RESPONSE_VIEW",CANCEL_FROM_RESPONSE_VIEW:"CANCEL_FROM_RESPONSE_VIEW",START_TO_RESPONSE_VIEW:"START_TO_RESPONSE_VIEW",CANCEL_TO_RESPONSE_VIEW:"CANCEL_TO_RESPONSE_VIEW",RECEIVE_DIAGNOSTIC_QUESTIONS_DATA:"RECEIVE_DIAGNOSTIC_QUESTIONS_DATA",AWAIT_NEW_DIAGNOSTIC_QUESTION_RESPONSE:"AWAIT_NEW_DIAGNOSTIC_QUESTION_RESPONSE",RECEIVE_NEW_DIAGNOSTIC_QUESTION_RESPONSE:"RECEIVE_NEW_DIAGNOSTIC_QUESTION_RESPONSE",START_DIAGNOSTIC_QUESTION_EDIT:"START_DIAGNOSTIC_QUESTION_EDIT",FINISH_DIAGNOSTIC_QUESTION_EDIT:"FINISH_DIAGNOSTIC_QUESTION_EDIT",SUBMIT_DIAGNOSTIC_QUESTION_EDIT:"SUBMIT_DIAGNOSTIC_QUESTION_EDIT",TOGGLE_NEW_DIAGNOSTIC_QUESTION_MODAL:"TOGGLE_NEW_DIAGNOSTIC_QUESTION_MODAL",EDITING_DIAGNOSTIC_QUESTION:"EDITING_DIAGNOSTIC_QUESTION",SUBMITTING_DIAGNOSTIC_QUESTION:"SUBMITTING_DIAGNOSTIC_QUESTION",START_DIAGNOSTIC_RESPONSE_EDIT:"START_DIAGNOSTIC_RESPONSE_EDIT",CANCEL_DIAGNOSTIC_RESPONSE_EDIT:"CANCEL_DIAGNOSTIC_RESPONSE_EDIT",FINISH_DIAGNOSTIC_RESPONSE_EDIT:"FINISH_DIAGNOSTIC_RESPONSE_EDIT",SUBMIT_DIAGNOSTIC_RESPONSE_EDIT:"SUBMIT_DIAGNOSTIC_RESPONSE_EDIT",SUBMITTING_DIAGNOSTIC_RESPONSE:"SUBMITTING_DIAGNOSTIC_RESPONSE",START_CHILD_DIAGNOSTIC_RESPONSE_VIEW:"START_CHILD_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_CHILD_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_CHILD_DIAGNOSTIC_RESPONSE_VIEW",START_FROM_DIAGNOSTIC_RESPONSE_VIEW:"START_FROM_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_FROM_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_FROM_DIAGNOSTIC_RESPONSE_VIEW",START_TO_DIAGNOSTIC_RESPONSE_VIEW:"START_TO_DIAGNOSTIC_RESPONSE_VIEW",CANCEL_TO_DIAGNOSTIC_RESPONSE_VIEW:"CANCEL_TO_DIAGNOSTIC_RESPONSE_VIEW",RECEIVE_PATHWAYS_DATA:"RECEIVE_PATHWAYS_DATA",AWAIT_NEW_PATHWAY_RESPONSE:"AWAIT_NEW_PATHWAY_RESPONSE",RECEIVE_NEW_PATHWAY_RESPONSE:"RECEIVE_NEW_PATHWAY_RESPONSE",TOGGLE_EXPAND_SINGLE_RESPONSE:"TOGGLE_EXPAND_SINGLE_RESPONSE",COLLAPSE_ALL_RESPONSES:"COLLAPSE_ALL_RESPONSES",EXPAND_ALL_RESPONSES:"EXPAND_ALL_RESPONSES",TOGGLE_STATUS_FIELD:"TOGGLE_STATUS_FIELD",TOGGLE_RESPONSE_SORT:"TOGGLE_RESPONSE_SORT",RESET_ALL_FIELDS:"RESET_ALL_FIELDS",TOGGLE_MASS_SELECTION:"TOGGLE_MASS_SELECTION",DESELECT_ALL_FIELDS:"DESELECT_ALL_FIELDS",ADD_RESPONSE_TO_MASS_EDIT_ARRAY:"ADD_RESPONSE_TO_MASS_EDIT_ARRAY",REMOVE_RESPONSE_FROM_MASS_EDIT_ARRAY:"REMOVE_RESPONSE_FROM_MASS_EDIT_ARRAY",CLEAR_RESPONSES_FROM_MASS_EDIT_ARRAY:"CLEAR_RESPONSES_FROM_MASS_EDIT_ARRAY",QUESTION_SELECT_ADD_QUESTION:"QUESTION_SELECT_ADD_QUESTION",QUESTION_SELECT_MODIFY_QUESTION:"QUESTION_SELECT_MODIFY_QUESTION",QUESTION_SELECT_UPDATE_TITLE:"QUESTION_SELECT_UPDATE_TITLE",NUMBERS_AS_WORDS:["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty"],INSTRUCTIONS:{sentenceFragments:"Add/change as few words as you can to change this fragment into a sentence."},RECEIVE_CONCEPTS_FEEDBACK_DATA:"RECEIVE_CONCEPTS_FEEDBACK_DATA",AWAIT_NEW_CONCEPTS_FEEDBACK_RESPONSE:"AWAIT_NEW_CONCEPTS_FEEDBACK_RESPONSE",RECEIVE_NEW_CONCEPTS_FEEDBACK_RESPONSE:"RECEIVE_NEW_CONCEPTS_FEEDBACK_RESPONSE",START_CONCEPTS_FEEDBACK_EDIT:"START_CONCEPTS_FEEDBACK_EDIT",FINISH_CONCEPTS_FEEDBACK_EDIT:"FINISH_CONCEPTS_FEEDBACK_EDIT",SUBMIT_CONCEPTS_FEEDBACK_EDIT:"SUBMIT_CONCEPTS_FEEDBACK_EDIT",TOGGLE_NEW_CONCEPTS_FEEDBACK_MODAL:"TOGGLE_NEW_CONCEPTS_FEEDBACK_MODAL",RECEIVE_ITEM_LEVELS_DATA:"RECEIVE_ITEM_LEVELS_DATA",AWAIT_NEW_ITEM_LEVEL_RESPONSE:"AWAIT_NEW_ITEM_LEVEL_RESPONSE",RECEIVE_NEW_ITEM_LEVEL_RESPONSE:"RECEIVE_NEW_ITEM_LEVEL_RESPONSE",START_ITEM_LEVEL_EDIT:"START_ITEM_LEVEL_EDIT",FINISH_ITEM_LEVEL_EDIT:"FINISH_ITEM_LEVEL_EDIT",SUBMIT_ITEM_LEVEL_EDIT:"SUBMIT_ITEM_LEVEL_EDIT",TOGGLE_NEW_ITEM_LEVEL_MODAL:"TOGGLE_NEW_ITEM_LEVEL_MODAL",EDITING_ITEM_LEVEL:"EDITING_ITEM_LEVEL",SUBMITTING_ITEM_LEVEL:"SUBMITTING_ITEM_LEVEL",RECEIVE_SENTENCE_FRAGMENTS_DATA:"RECEIVE_SENTENCE_FRAGMENTS_DATA",AWAIT_NEW_SENTENCE_FRAGMENT_RESPONSE:"AWAIT_NEW_SENTENCE_FRAGMENT_RESPONSE",RECEIVE_NEW_SENTENCE_FRAGMENT_RESPONSE:"RECEIVE_NEW_SENTENCE_FRAGMENT_RESPONSE",START_SENTENCE_FRAGMENT_EDIT:"START_SENTENCE_FRAGMENT_EDIT",FINISH_SENTENCE_FRAGMENT_EDIT:"FINISH_SENTENCE_FRAGMENT_EDIT",SUBMIT_SENTENCE_FRAGMENT_EDIT:"SUBMIT_SENTENCE_FRAGMENT_EDIT",TOGGLE_NEW_SENTENCE_FRAGMENT_MODAL:"TOGGLE_NEW_SENTENCE_FRAGMENT_MODAL",EDITING_SENTENCE_FRAGMENT:"EDITING_SENTENCE_FRAGMENT",SUBMITTING_SENTENCE_FRAGMENT:"SUBMITTING_SENTENCE_FRAGMENT",UPDATE_SESSION_DATA:"UPDATE_SESSION_DATA",DELETE_SESSION_DATA:"DELETE_SESSION_DATA",DELETE_ALL_SESSION_DATA:"DELETE_ALL_SESSION_DATA",UPDATE_RESPONSE_STATUS:"UPDATE_RESPONSE_STATUS",UPDATE_RESPONSE_DATA:"UPDATE_RESPONSE_DATA",DELETE_RESPONSE_STATUS:"DELETE_RESPONSE_STATUS",RECEIVE_SCORE_ANALYSIS_DATA:"RECEIVE_SCORE_ANALYSIS_DATA",UPDATE_CLASSROOM_SESSION_DATA:"UPDATE_CLASSROOM_SESSION_DATA",UPDATE_CLASSROOM_SESSION_WITHOUT_CURRENT_SLIDE:"UPDATE_CLASSROOM_SESSION_WITHOUT_CURRENT_SLIDE",UPDATE_SLIDE_IN_STORE:"UPDATE_SLIDE_IN_STORE",TOGGLE_HEADERS:"TOGGLE_HEADERS",NO_CLASSROOM_ACTIVITY:"NO_CLASSROOM_ACTIVITY",NO_STUDENT_ID:"NO_STUDENT_ID",HIDE_SIGNUP_MODAL:"HIDE_SIGNUP_MODAL",SHOW_SIGNUP_MODAL:"SHOW_SIGNUP_MODAL",SET_USER_ID:"SET_USER_ID",SET_COTEACHERS:"SET_COTEACHERS",SET_EDITION_METADATA:"SET_EDITION_METADATA",SET_EDITION_QUESTIONS:"SET_EDITION_QUESTIONS",SET_WORKING_EDITION_QUESTIONS:"SET_WORKING_EDITION_QUESTIONS",SET_WORKING_EDITION_METADATA:"SET_WORKING_EDITION_METADATA",SET_INCOMPLETE_QUESTIONS:"SET_INCOMPLETE_QUESTIONS"};function lengthMatch(n,e,t,r){void 0===r&&(r={});var o=wordLengthCount(n),i=wordLengthCount(t),a=i+r.max,s=i+r.min,c=getMinMaxFeedback(r.min,r.max);return r.min&&o<s?{feedback:c,author:"Too Short Hint"}:r.max&&o>a?{feedback:c,author:"Too Long Hint"}:void 0}function lengthChecker(n,e,t,r){void 0===r&&(r={});var o=lengthMatch(n,e,t,r);if(o)return lengthResponseBuilder(e,getTopOptimalResponse(e).id,o.author,o.feedback)}function lengthResponseBuilder(n,e,t,r){return{optimal:!1,parent_id:e,author:t,feedback:r}}function wordLengthCount(n){return n.replace(/[^0-9a-z\s]/gi,"").replace(/\s{2,}/g," ").split(" ").length}function getMinMaxFeedback(n,e){return n===e?1===n?"Revise your work. Add one word to the prompt to make the sentence complete.":"Revise your work. Add "+constants$1.NUMBERS_AS_WORDS[n]+" words to the prompt to make the sentence complete.":"Revise your work. Add "+constants$1.NUMBERS_AS_WORDS[n]+" to "+constants$1.NUMBERS_AS_WORDS[e]+" words to the prompt to make the sentence complete."}function spacyPOSSentenceMatch(n,e,t){var r={method:"POST",body:JSON.stringify({text:n,question_id:e}),headers:{"Content-Type":"application/json"}};return fetch(t+"/get_pos_match",r).then(function(n){return n.json()}).then(function(n){return n.match})}function spacyPOSSentenceChecker(n,e,t,r){return void 0===r&&(r=spacyPOSSentenceMatch),__awaiter(this,void 0,void 0,function(){var o,i;return __generator(this,function(a){switch(a.label){case 0:return[4,r(n,e,t)];case 1:return o=a.sent(),(i=o?spacyPOSSentenceResponseBuilder(o):void 0)?[2,i]:[2]}})})}function spacyPOSSentenceResponseBuilder(n){return{author:"Parts of Speech",parent_id:n.id,optimal:n.optimal,feedback:n.feedback}}function checkSentenceFragment(n){return __awaiter(this,void 0,void 0,function(){var e,t,r,o;return __generator(this,function(i){switch(i.label){case 0:return e={response:n.response.trim(),responses:underscore_1(n.responses,function(n){return n.count}).reverse(),incorrectSequences:n.incorrectSequences,wordCountChange:n.wordCountChange,ignoreCaseAndPunc:n.ignoreCaseAndPunc,prompt:n.prompt,mlUrl:n.mlUrl,checkML:n.checkML,question_uid:n.question_uid},t={text:e.response,question_uid:n.question_uid,count:1},(r=checkForMatches$2(e,firstPassMatchers$2))?[2,Object.assign(t,r)]:[4,spacyPOSSentenceChecker(e.response,e.question_uid,e.mlUrl)];case 1:return(o=i.sent())?[2,Object.assign(t,o)]:[2,t]}})})}function firstPassMatchers$2(n,e){var t,r,o,i,a,s,c;return void 0===e&&(e=!1),__generator(this,function(e){switch(e.label){case 0:return t=n.response,r=n.responses,o=n.incorrectSequences,i=n.ignoreCaseAndPunc,a=n.wordCountChange,s=n.prompt,n.mlUrl,[4,exactMatch(c=t,r)];case 1:return e.sent(),[4,incorrectSequenceChecker(c,o,r)];case 2:return e.sent(),i?[3,12]:[4,lengthChecker(c,r,s,a)];case 3:return e.sent(),[4,punctuationEndChecker(c,r)];case 4:return e.sent(),[4,caseStartChecker(c,r)];case 5:return e.sent(),[4,caseInsensitiveChecker(c,r)];case 6:return e.sent(),[4,punctuationInsensitiveChecker(c,r)];case 7:return e.sent(),[4,punctuationAndCaseInsensitiveChecker(c,r)];case 8:return e.sent(),[4,spacingBeforePunctuationChecker(c,r)];case 9:return e.sent(),[4,spacingAfterCommaChecker(c,r)];case 10:return e.sent(),[4,requiredWordsChecker(c,r)];case 11:e.sent(),e.label=12;case 12:return[2]}})}function checkForMatches$2(n,e){for(var t=e(n),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}function checkFillInTheBlankQuestion(n,e,t){var r={response:e.trim(),responses:t},o={text:r.response,question_uid:n,count:1},i=checkForMatches$3(r,firstPassMatchers$3);return i?Object.assign(o,i):o}function firstPassMatchers$3(n){var e,t,r;return __generator(this,function(o){switch(o.label){case 0:return e=n.response,t=n.responses,n.focusPoints,[4,exactMatch(r=e,t)];case 1:return o.sent(),[4,caseInsensitiveChecker(r,t,!0)];case 2:return o.sent(),[2]}})}function checkForMatches$3(n,e){for(var t=e(n),r=t.next();!r.value&&!r.done;)r=t.next();if(r.value)return r.value}exports.checkSentenceCombining=checkSentenceCombining,exports.checkDiagnosticQuestion=checkDiagnosticQuestion,exports.checkSentenceFragment=checkSentenceFragment,exports.checkFillInTheBlankQuestion=checkFillInTheBlankQuestion;
